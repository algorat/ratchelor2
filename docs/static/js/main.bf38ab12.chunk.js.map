{"version":3,"sources":["components/MobileWrapper.js","components/IntroScreen.js","img/arrows_frame.png","components/RatSelect.js","components/ReactionAnimation.js","components/TalkingToRats.js","img/arrow-500.png","components/RoseCeremony.js","components/AnimeEnding.js","components/SpecialEnding.js","sounds/Cheerful.mp3","sounds/Funky.mp3","sounds/Intense.mp3","sounds/Intro_Screen.mp3","sounds/Paris.mp3","sounds/Pop.mp3","sounds/Romantic_Happy.mp3","sounds/Romantic_Sad.mp3","sounds/Rose_Ceremony.mp3","sounds/Talking_To_Rat_1.mp3","sounds/Talking_To_Rat_2.mp3","sounds/Talking_To_Rat_3.mp3","sounds/Talking_To_Rat_4.mp3","components/MusicManager.js","sounds/rose3.wav","sounds/bad_action_sfx.wav","sounds/curtains.mp3","sounds/louder_tap.mp3","sounds/crickets.mp3","sounds/harp.mp3","sounds/trombone.mp3","sounds/chaching.mp3","sounds/ding.mp3","sounds/metal.mp3","sounds/tada.mp3","sounds/chimes.mp3","sounds/wobble.mp3","components/SoundEffectController.js","img/icons/volume_mute.png","img/icons/volume_0.png","img/icons/volume_3.png","components/GameOptions.js","img/icons/volume_1.png","img/icons/volume_2.png","components/CharacterSelect.js","components/Proposal.js","App.js","img/Backgrounds/beach.png","img/Backgrounds/couch.gif","img/Backgrounds/curtains.png","img/Backgrounds/garden.png","img/Backgrounds/intro.gif","img/Backgrounds/wallpaper.png","index.js"],"names":["Proposal","children","this","props","controlsStyled","className","header","id","bodyId","row","cta","React","Component","IntroScreen","state","opacity","loadingText","onClick","bind","button","ref","b","addEventListener","playSound","fadeInterval","window","setInterval","clearInterval","setState","loader","percentLoadedText","Math","floor","percentLoaded","buttonOrLoader","isPreloading","style","isOnMobile","MobileWrapper","RatSelect","onClickSelectRats","setActiveRatsAndAdvanceState","selectedRats","currentlyViewedRat","selectRatsButton","document","getElementById","classList","remove","numRatsInGame","length","add","ratName","element","indexOf","playTap","index","newSelectedRats","splice","multiContestantsLeft","oneContestantLeft","push","noContestantsLeft","playBadActionSound","ratsList","mobileCTA","i","filename","process","rats","filenameHearts","name","selectRatIntermediate","selectRat","src","alt","arrows","zodiac","tagline","marginBottom","includes","ReactionAnimation","left","top","Array","fill","emote","map","val","idx","TalkingToRats","ratNames","activeRatNames","sort","a","random","activeRats","getRatByName","sendFirstRatTimeout","numRatImgsLoaded","ratImgs","roundNum","responses","responsesJson","charSpeed","ratMoveSpeed","rxnSound","ratIndex","charsRevealed","incr","reacting","lastActiveRat","ratDialogue","ratImgsLoaded","setTimeout","sendRatIn","startDelay","activeRat","talking_to_rats_filename","baseFilename","imgHTML","onLoad","ratImgLoaded","preloadRatImgs","ratMoveInInterval","ratMoveOutInterval","textInterval","reactionTimeout","clearTimeout","rxn","Object","keys","soundsToActionsJson","forEach","sound","responseReaction","currReaction","playReactionSound","sendRatOut","getRandomResponses","startTextMoving","setNextRat","dialogue","round","substring","newRatIndex","goToRoseCeremony","changeCurrentRatIdx","startReaction","currentRatFilename","currentIndex","currentRatResponseOptions","responseText","response","reaction","responseDiv","submitResponse","playSelectAnswer","playCricketsSound","playHarpSound","playDingSound","playMetalSound","playChachingSound","playWobbleSound","playChimesSound","playTromboneSound","playTadaSound","playerRatUrl","reaction_pos","roseSuffix","roseSadSuffix","RoseCeremony","numRoses","backRowRats","frontRowRats","deselectedRats","giveRosesButton","instructions","middleRowClass","allRatsSelectedClass","lastRoseClass","backRowNames","frontRowNames","backRowSize","lepixIndex","podoIndex","simIndex","currName","reverse","ratsLeft","console","log","updateInstructions","newdeSelectedRats","finalRat","endRoseCeremony","backRatsList","baseName","roseFilename","sadFilename","rose_ceremony_filename","size","arrow","frontRatsList","bouquetNum","lastClickedRat","mobileButton","undefined","AnimeEnding","winningRat","epilogue","SpecialEnding","text","offLimitRats","beginningRatPool","photos","f","getRatEndingFilename","selectedRat","ratsJson","fullName","retVal","retText","corats","noFileFound","photosRats","rat","numEndings","j","noViableEnding","numRats","Rat1","Rat2","Rat3","selecctedID","selected","deselect","seed","x","sin","mobileTxt","width","paddingTop","paddingRight","transform","buttons","open","restartGame","TalkingMusic","Talking1","Talking2","Talking3","Talking4","Endings","CHEERFUL","Cheerful","FUNKY","Funky","INTENSE","Intense","PARIS","Paris","POP","Pop","ROMANTICHAPPY","RomanticHappy","ROMANTICSAD","RomanticSad","MusicManager","selectURL","url","phase","setCallPlaySound","volume","currentRatIdx","musicStarted","needToRender","newurl","newvolume","setVolume","vol","rap","playPromise","play","then","_","catch","e","RAT_SELECT","PLAYER_SELECT","TALKING_TO_RATS","ROSE_CEREMONY","ANIME_ENDING","ending","PROPOSAL","loop","SoundEffectController","playRoseSound","playNewRoundSound","setPlayRoseSound","setPlayBadActionSound","setPlayTap","setPlayCricketsSound","setPlayHarpSound","setPlayTromboneSound","setPlaySelectAnswer","setPlayNewRoundSound","setPlayChachingSound","setPlayDingSound","setPlayMetalSound","setPlayTadaSound","setPlayChimesSound","setPlayWobbleSound","wobble","chimes","tada","metal","ding","chaching","crickets","trombone","harp","assignRose","badAction","newRound","selectAnswer","tap","GameOptions","soundurl","prog","soundLogoMute","soundLogo3","changeVolume","soundLogo0","min","max","type","value","onChange","evt","parseInt","target","backgroundImage","CharacterImg","CharacterSelect","ratSelected","buttonAreaBefore","buttonAreaAfter","buttonArea","playerIdx","changePlayerIdx","float","marginRight","opacityInterval","advanceState","backgroundSrc","soundsToPreload","s2","s3","s5","s6","s7","s11","s1","s21","s22","s23","s24","s25","soundsToAsyncLoad","s17","s18","s19","s20","s16","s8","s9","s10","s12","s13","s14","s15","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","RatchelorGame","numRounds","setProposedInDatabase","rosesPerRound","allPublicImagesForPreload","gameStage","interludeText","isShowingSafariMsg","curtainsClass","recalculateDimensions","donePreloading","publicImgsLoaded","srcImgsLoaded","soundsLoaded","onMobile","innerHeight","innerWidth","mobileAndPortrait","removeEventListener","preloadTimeout","preloadInterval","asyncLoadSounds","intervalTime","fullFilename","img","Image","slice","onload","fileIdx","audio","Audio","load","delay","newGameStage","endInterlude","callPlaySound","database","child","set","ServerValue","increment","preload","interludeElement","isSafari","test","HTMLElement","safari","pushNotification","toString","navigator","userAgent","display","kofiWidget","querySelector","randoRat","screen","beginInterludeAndAdvanceState","newRoundNum","incrementTotalRatCount","n","safariMsg","resizeHandler","vh","documentElement","setProperty","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.bf38ab12.chunk.js","sourcesContent":["import React from \"react\";\n\nclass Proposal extends React.Component {\n  render() {\n    const children = this.props.children;\n    if (this.props.controlsStyled) {\n      return (\n        <div className=\"mobile-wrapper\">\n          <div className=\"controls-wrapper\">\n            {this.props.header && (\n              <div className=\"controls-wrapper__header\">\n                {this.props.header}\n              </div>\n            )}\n            <div\n              id={this.props.bodyId}\n              className={`controls-wrapper__body controls-wrapper__body--${\n                this.props.row ? \"row\" : \"col\"\n              }`}\n            >\n              {this.props.children}\n            </div>\n          </div>\n          {this.props.cta && <div id=\"button-container\">{this.props.cta}</div>}\n        </div>\n      );\n    }\n    return <div className=\"mobile-wrapper\">{children}</div>;\n  }\n}\n\nexport default Proposal;\n","import React from \"react\";\nimport MobileWrapper from \"./MobileWrapper\";\n\nclass IntroScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      opacity: 1,\n      loadingText: \"Loading\",\n    };\n    this.onClick = this.onClick.bind(this);\n    this.button = (\n      <button\n        ref={(b) => {\n          if (b) {\n            b.addEventListener(\"click\", () => {\n              props.playSound();\n            });\n          }\n        }}\n        onClick={this.onClick}\n      >\n        Embark\n      </button>\n    );\n  }\n\n  onClick() {\n    this.fadeInterval = window.setInterval(() => {\n      let opacity = this.state.opacity - 0.01;\n      if (opacity <= 0) {\n        this.props.onClick();\n        window.clearInterval(this.fadeInterval);\n      } else {\n        this.setState({ opacity });\n      }\n    }, 5);\n  }\n\n  render() {\n    let loader = <div id=\"loadingText\">{this.state.loadingText}</div>;\n    let percentLoadedText = Math.floor(this.props.percentLoaded * 100);\n    loader = <div id=\"loadingText\">Loading {percentLoadedText}%</div>;\n    const buttonOrLoader = this.props.isPreloading ? loader : this.button;\n\n    return (\n      <>\n        <div\n          id=\"introScreen\"\n          className={`screen loading-${this.props.isPreloading}`}\n          style={{ opacity: this.state.opacity }}\n        >\n          {!this.props.isOnMobile && buttonOrLoader}\n          <div id=\"hideme\" />\n        </div>\n        {this.props.isOnMobile && (\n          <MobileWrapper\n          controlsStyled={true}\n          cta={buttonOrLoader}\n          >\n            Looks like you're on mobile! Mobile is available, but our game works better on larger screens. We suggest joining from a laptop or desktop computer if possible :)\n          </MobileWrapper>\n        )}\n      </>\n    );\n  }\n}\n\nexport default IntroScreen;\n","export default __webpack_public_path__ + \"static/media/arrows_frame.ee0bfd54.png\";","import React from \"react\";\nimport MobileWrapper from \"./MobileWrapper\";\nimport arrows from \"../img/arrows_frame.png\";\n\nclass RatSelect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // Once you've select the rats, advance to the next stage\n    this.onClickSelectRats = () => {\n      props.setActiveRatsAndAdvanceState(this.state.selectedRats);\n    };\n\n    this.isOnMobile = props.isOnMobile;\n\n    this.state = {\n      selectedRats: [],\n      currentlyViewedRat: -1,\n      selectRatsButton: <div id=\"chooseText\">Select your 7 contestants</div>,\n    };\n  }\n\n  noContestantsLeft() {\n    let selectRatsButton = !this.isOnMobile ? (\n      <div id=\"chooseText\">\n        <button\n          onClick={() => {\n            this.onClickSelectRats();\n          }}\n        >\n          Continue\n        </button>\n      </div>\n    ) : (\n      \"You're done!\"\n    );\n    this.setState({ selectRatsButton });\n    document.getElementById(\"ratListContainer\").classList.remove(\"stillRats\");\n  }\n\n  oneContestantLeft() {\n    let selectRatsButton = (\n      <div id=\"chooseText\">{`Select ${\n        this.props.numRatsInGame - this.state.selectedRats.length\n      } more contestant`}</div>\n    );\n    this.setState({ selectRatsButton });\n    document.getElementById(\"ratListContainer\").classList.add(\"stillRats\");\n  }\n\n  multiContestantsLeft() {\n    let selectRatsButton = (\n      <div id=\"chooseText\">{`Select ${\n        this.props.numRatsInGame - this.state.selectedRats.length\n      } more contestants`}</div>\n    );\n    this.setState({ selectRatsButton });\n  }\n\n  selectRatIntermediate(ratName, id) {\n    this.setState({ currentlyViewedRat: id });\n  }\n\n  // When a rat is clicked\n  selectRat(ratName, id) {\n    // Get the element for the current rat button\n    const element = document.getElementById(id);\n\n    // If it's already chosen, deselect it\n    if (this.state.selectedRats.indexOf(ratName) !== -1) {\n      this.props.playTap();\n      const index = this.state.selectedRats.indexOf(ratName);\n      const newSelectedRats = this.state.selectedRats;\n      newSelectedRats.splice(index, 1);\n      this.setState({ selectedRats: newSelectedRats });\n      element.classList.remove(\"selectedRat\");\n      if (this.state.selectedRats.length !== this.props.numRatsInGame - 1) {\n        this.multiContestantsLeft();\n      } else {\n        this.oneContestantLeft();\n      }\n      return;\n    }\n\n    // If you've already selected the max rats, you can't select another\n    if (this.state.selectedRats.length === this.props.numRatsInGame) {\n      this.props.playBadActionSound();\n      return;\n    }\n\n    // Otherwise, select this rat\n    let newSelectedRats = this.state.selectedRats;\n    newSelectedRats.push(ratName);\n    element.classList.add(\"selectedRat\");\n\n    this.props.playTap();\n\n    // If that was the final rat, display the advance button\n    if (this.state.selectedRats.length === this.props.numRatsInGame) {\n      this.noContestantsLeft();\n    } else if (\n      this.state.selectedRats.length !==\n      this.props.numRatsInGame - 1\n    ) {\n      this.multiContestantsLeft();\n    } else {\n      this.oneContestantLeft();\n    }\n\n    // Force a UI update for the rat list\n\n    this.setState({});\n  }\n\n  render() {\n    let ratsList = [];\n    const mobileCTA = (\n      <button\n        className={\n          this.props.numRatsInGame - this.state.selectedRats.length > 0\n            ? \"unselect\"\n            : \"\"\n        }\n        onClick={() => {\n          if (!this.props.numRatsInGame !== this.state.selectedRats.length) {\n            this.onClickSelectRats();\n          }\n        }}\n      >\n        Onwards\n      </button>\n    );\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.props.rats.length; i++) {\n      let filename = `${process.env.PUBLIC_URL}/img/Frames/${this.props.rats[i].filename}-frame.png`;\n      let filenameHearts = `${process.env.PUBLIC_URL}/img/Frames/hearts${\n        (i % 9) + 1\n      }.png`;\n      ratsList.push(\n        <div key={\"rats\" + i} id=\"ratContainer\">\n          <div\n            id={`rat${i}`}\n            className={`ratListItem ratListItem-${this.props.rats[i].name}`}\n            onClick={() => {\n              if (this.props.isOnMobile) {\n                this.selectRatIntermediate(this.props.rats[i].name, i);\n              } else {\n                this.selectRat(this.props.rats[i].name, `rat${i}`);\n              }\n            }}\n          >\n            <div className=\"ratPic\">\n            {this.props.rats[i].name === \"Martine\" && <img\n                key={`ratframeempty${i}`}\n                className={`ratFrame martineEmpty ${(this.props.isOnMobile && this.state.currentlyViewedRat === i) ? \"ratFrameActive\" : \"\"}`}\n                src={`${process.env.PUBLIC_URL}/img/Frames/martine-frame-empty.png`}\n                alt=\"\"\n              />}\n              <img\n                key={`ratframe${i}`}\n                className={`ratFrame ${(this.props.isOnMobile && this.state.currentlyViewedRat === i) ? \"ratFrameActive\" : \"\"}`}\n                src={filename}\n                alt=\"\"\n              />\n              \n              <img\n                key={`rathearts${i}`}\n                className={`ratHearts ${(this.props.isOnMobile && this.state.currentlyViewedRat === i) ? \"ratFrameActive\" : \"\"}`}\n                src={filenameHearts}\n                alt=\"\"\n              />\n              {\n                (this.props.isOnMobile && this.state.currentlyViewedRat === i) && (\n                  <img className=\"ratFrameArrow\" src={arrows} alt={\"Decorative arrows pointed to the selected rat.\"} />\n                )\n              }\n            </div>\n            {!this.props.isOnMobile && (\n              <div className=\"ratNameContainer\">\n                <div className=\"ratName\">{`${this.props.rats[i].name}`}</div>\n                <div className=\"ratZodiac\">{`${this.props.rats[i].zodiac}`}</div>\n                <div className=\"ratTagline\">{`\"${this.props.rats[i].tagline}\"`}</div>\n              </div>\n            )}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <>\n        <div id=\"ratSelectScreen\" className=\"screen\">\n          {!this.props.isOnMobile && this.state.selectRatsButton}\n          <div id=\"ratListContainer\" className=\"stillRats\">\n            {ratsList}\n          </div>\n        </div>\n        {this.props.isOnMobile &&\n          (this.state.currentlyViewedRat < 0 ? (\n            <MobileWrapper\n              controlsStyled={true}\n              header={this.state.selectRatsButton}\n              cta={mobileCTA}\n            >\n              <div>Select a rat!</div>\n            </MobileWrapper>\n          ) : (\n            <MobileWrapper\n              controlsStyled={true}\n              header={this.state.selectRatsButton}\n              cta={mobileCTA}\n            >\n              <h2 style={{marginBottom: 0}}>{this.props.rats[this.state.currentlyViewedRat].name}</h2>\n              <p className=\"ratZodiac\">{`${this.props.rats[this.state.currentlyViewedRat].zodiac}`}</p>\n              <div className=\"column\">\n                <p>{this.props.rats[this.state.currentlyViewedRat].tagline}</p>\n              </div>\n              <button\n                onClick={() => {\n                  this.selectRat(\n                    this.props.rats[this.state.currentlyViewedRat].name,\n                    `rat${this.state.currentlyViewedRat}`\n                  );\n                }}\n                className={\n                  this.props.numRatsInGame === this.state.selectedRats.length &&\n                  !this.state.selectedRats.includes(\n                    this.props.rats[this.state.currentlyViewedRat].name\n                  )\n                    ? \"unselect\"\n                    : \"\"\n                }\n              >\n                {this.state.selectedRats.includes(\n                  this.props.rats[this.state.currentlyViewedRat].name\n                )\n                  ? \"Deselect\"\n                  : \"Select\"}\n              </button>\n            </MobileWrapper>\n          ))}\n      </>\n    );\n  }\n}\n\nexport default RatSelect;\n","import React from \"react\";\n\nclass ReactionAnimation extends React.Component {\n  render() {\n    return (\n      <div\n        className=\"reaction-animation\"\n        style={{ left: `${this.props.left}%`, top: this.props.top + \"%\" }}\n      >\n        {Array(5)\n          .fill(this.props.emote)\n          .map((val, idx) => (\n            <div\n              key={\"reaction-emote-\" + (idx + 1)}\n              className={\"reaction-emote reaction-emote-\" + (idx + 1)}\n            >\n              {val}\n            </div>\n          ))}\n      </div>\n    );\n  }\n}\n\nexport default ReactionAnimation;\n","import React from \"react\";\nimport ReactionAnimation from \"./ReactionAnimation\";\nimport responsesJson from \"../responses.json\";\nimport soundsToActionsJson from \"../soundsToActions.json\";\nimport MobileWrapper from \"./MobileWrapper\";\n\nclass TalkingToRats extends React.Component {\n  constructor(props) {\n    super(props);\n    // Randomly shuffle the rats for this round\n    this.ratNames = props.activeRatNames.sort(function (a, b) {\n      return 0.5 - Math.random();\n    });\n    // Get all of the round's rats based on their names\n    this.activeRats = this.ratNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    this.sendFirstRatTimeout = null;\n    this.numRatImgsLoaded = 0;\n    this.ratImgs = [];\n    this.roundNum = props.roundNum;\n    // Store all of your canned responses in an array\n    this.responses = responsesJson;\n    this.charSpeed = 30;\n    this.ratMoveSpeed = 10;\n    this.rxnSound = \"\";\n    this.state = {\n      ratIndex: 0,\n      charsRevealed: 0,\n      responses: [],\n      incr: 1,\n      reacting: false,\n      lastActiveRat: -1,\n      ratDialogue: \"\",\n      ratImgsLoaded: false,\n    };\n  }\n\n  ratImgLoaded() {\n    this.numRatImgsLoaded++;\n    if (this.numRatImgsLoaded === this.activeRats.length) {\n      this.setState({ ratImgsLoaded: true }, () => {\n        if (this.sendFirstRatTimeout === null) {\n          this.sendFirstRatTimeout = window.setTimeout(() => {\n            this.sendRatIn();\n          }, this.props.startDelay);\n        }\n      });\n    }\n  }\n\n  preloadRatImgs() {\n    // Preload timeout if images don't load in 3.8s\n    window.setTimeout(() => {\n      if (!this.state.ratImgsLoaded) {\n        this.setState({ ratImgsLoaded: true }, () => {\n          if (this.sendFirstRatTimeout === null) {\n            this.sendFirstRatTimeout = 1;\n            this.sendRatIn();\n          }\n        });\n      }\n    }, 4500);\n\n    for (let i = 0; i < this.activeRats.length; i++) {\n      const activeRat = this.activeRats[i];\n      let filename = `${process.env.PUBLIC_URL}/img/Couch/${activeRat.filename}.png`;\n      if (activeRat.talking_to_rats_filename && this.roundNum < activeRat.talking_to_rats_filename.length) {\n        const baseFilename = activeRat.talking_to_rats_filename[this.roundNum];\n        filename = `${process.env.PUBLIC_URL}/img/Couch/${baseFilename}.png`;\n      }\n      let imgHTML = <img key={i} id={`ratImg${i}`} onLoad={this.ratImgLoaded.bind(this)} alt=\"a rat who wants to fall in love with you\" className=\"ratImg\" src={filename}></img>\n      this.ratImgs.push(imgHTML);\n    }\n  }\n\n  componentDidMount() {\n    this.preloadRatImgs();\n  }\n\n  componentWillUnmount() {\n    if (this.ratMoveInInterval !== null) {\n      window.clearInterval(this.ratMoveOutInterval);\n    }\n    if (this.ratMoveOutInterval !== null) {\n      window.clearInterval(this.ratMoveOutInterval);\n    }\n    if (this.textInterval !== null) {\n      window.clearInterval(this.textInterval);\n    }\n\n    if (this.reactionTimeout !== null) {\n      window.clearTimeout(this.reactionTimeout);\n    }\n  }\n\n  playReactionSound(rxn) {\n    let rxnSound = \"\";\n\n    Object.keys(soundsToActionsJson).forEach((sound) => {\n      if (soundsToActionsJson[sound].includes(rxn)) {\n        rxnSound = sound;\n      }\n    });\n    this.rxnSound = rxnSound;\n  }\n\n  startReaction(responseReaction, props) {\n    this.setState({\n      responses: \"\",\n      incr: 1,\n      reacting: true,\n      lastActiveRat: this.state.ratIndex,\n      currReaction: responseReaction,\n    });\n    this.playReactionSound(responseReaction, props);\n    this.reactionTimeout = window.setTimeout(() => this.sendRatOut(), 1500);\n  }\n\n  sendRatIn() {\n    this.setState({ currReaction: null });\n    this.getRandomResponses();\n    document\n      .getElementById(\"dialogueContainer\")\n      .classList.remove(\"leavingDialogue\");\n    document\n      .getElementById(`ratImg${this.state.ratIndex}`)\n      .classList.add(\"enteringRat\");\n    document\n      .getElementById(\"dialogueContainer\")\n      .classList.add(\"enteringDialogue\");\n    window.setTimeout(this.startTextMoving.bind(this), 800);\n  }\n\n  sendRatOut() {\n    document\n      .getElementById(`ratImg${this.state.ratIndex}`)\n      .classList.remove(\"enteringRat\");\n    document\n      .getElementById(\"dialogueContainer\")\n      .classList.remove(\"enteringDialogue\");\n    document\n      .getElementById(`ratImg${this.state.ratIndex}`)\n      .classList.add(\"leavingRat\");\n    document\n      .getElementById(\"dialogueContainer\")\n      .classList.add(\"leavingDialogue\");\n    window.setTimeout(() => {\n      this.setState(\n        { reacting: false, charsRevealed: 0, ratDialogue: \"...\" },\n        () => this.setNextRat()\n      );\n    }, 800);\n  }\n\n  startTextMoving() {\n    this.textInterval = window.setInterval(() => {\n      let ratDialogue = this.activeRats[this.state.ratIndex].dialogue[\n        this.props.round\n      ].substring(0, this.state.charsRevealed);\n      this.setState({ ratDialogue });\n      let charsRevealed = this.state.charsRevealed + 1;\n      if (\n        charsRevealed >\n        this.activeRats[this.state.ratIndex].dialogue[this.props.round].length\n      ) {\n        window.clearInterval(this.textInterval);\n      } else {\n        this.setState({ charsRevealed });\n      }\n    }, this.charSpeed);\n  }\n\n  setNextRat() {\n    let newRatIndex = this.state.ratIndex + 1;\n    // If that was the last rat, advance to the rose ceremony\n    if (newRatIndex === this.ratNames.length) {\n      this.props.goToRoseCeremony();\n    } else {\n      this.setState({ ratIndex: newRatIndex }, () => this.sendRatIn());\n      this.props.changeCurrentRatIdx(newRatIndex);\n    }\n  }\n\n  // After you submit your response, choose a new rat\n  submitResponse(responseReaction, props) {\n    window.clearInterval(this.textInterval);\n    this.startReaction(responseReaction, props);\n  }\n\n  getRandomResponses() {\n    // Make sure we get random, different responses\n    const numResponses = 3;\n\n    //gets index of rat\n    let currentRat = this.activeRats[this.state.ratIndex];\n    //gets rat filename\n    let currentRatFilename = currentRat[\"filename\"];\n    //grabs dialogue index\n    let currentIndex = this.props.round;\n\n    //all reaction/response couples for all rounds of chit-chat\n    let currentRatResponses = responsesJson[currentRatFilename];\n\n    //responses for current spoken dialogue only\n    let currentRatResponseOptions = currentRatResponses[currentIndex];\n\n    currentRatResponseOptions.sort(() => 0.5 - Math.random());\n\n    let responses = [];\n    // Choose the first n\n    for (let i = 0; i < numResponses; i++) {\n      let responseText = currentRatResponseOptions[i].response;\n      let responseReaction = currentRatResponseOptions[i].reaction;\n      let responseDiv = (\n        <button\n          onClick={() => {\n            this.submitResponse.bind(this)(responseReaction, this.props);\n            this.props.playSelectAnswer();\n\n            if (this.rxnSound === \"crickets\") {\n              this.props.playCricketsSound();\n            } else if (this.rxnSound === \"harp\") {\n              this.props.playHarpSound();\n            } else if (this.rxnSound === \"ding\") {\n              this.props.playDingSound();\n            } else if (this.rxnSound === \"metal\") {\n              this.props.playMetalSound();\n            } else if (this.rxnSound === \"chaching\") {\n              this.props.playChachingSound();\n            } else if (this.rxnSound === \"wobble\") {\n              this.props.playWobbleSound();\n            } else if (this.rxnSound === \"chimes\") {\n              this.props.playChimesSound();\n            } else if (this.rxnSound === \"womp\") {\n              this.props.playTromboneSound();\n            } else if (this.rxnSound === \"tada\") {\n              this.props.playTadaSound();\n            }\n          }}\n          key={i}\n        >\n          {responseText}\n        </button>\n      );\n      responses.push(responseDiv);\n    }\n    this.setState({ responses });\n  }\n\n  // You get a random rat, they talk to you, you can respond, after you respond another rat shows up\n  render() {\n    let ratDialogue = this.state.ratDialogue;\n    if (this.state.currReaction) {\n      ratDialogue = (\n        <img\n          id=\"dialogueImg\"\n          alt=\"dialogue emoji\"\n          src={`${process.env.PUBLIC_URL}/img/Reactions/${this.state.currReaction}.png`}\n        ></img>\n      );\n    }\n    if (ratDialogue.length === 0) ratDialogue = \"...\";\n    return (\n      <>\n        <div id=\"talkingToRatsScreen\" className=\"screen\">\n          <div className=\"hide-overflow\">\n            <img\n              id=\"playerRat\"\n              alt=\"you as a rat, on the couch\"\n              src={this.props.playerRatUrl}\n            ></img>\n            <div id=\"allRats\">{this.ratImgs}</div>\n            <div id=\"talkingRatContainer\">\n              {this.state.reacting && (\n                <ReactionAnimation\n                  emote={\n                    <img\n                      alt=\"\"\n                      src={`${process.env.PUBLIC_URL}/img/Reactions/${this.state.currReaction}.png`}\n                    />\n                  }\n                  left={\n                    this.activeRats[this.state.lastActiveRat].reaction_pos[0] *\n                    100\n                  }\n                  top={\n                    this.activeRats[this.state.lastActiveRat].reaction_pos[1] *\n                    100\n                  }\n                />\n              )}\n            </div>\n            <div id=\"dialogueContainer\">\n              <div id=\"ratName\">\n                {this.activeRats[this.state.ratIndex].name}\n              </div>\n              <div id=\"textDialogueContainer\">\n                <div id=\"ratDialogue\"> {ratDialogue}</div>\n                {!this.props.isOnMobile && (\n                  <div id=\"responses\">{this.state.responses}</div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.props.isOnMobile && (\n          <MobileWrapper\n            controlsStyled={true}\n            header={\"What will you say in response?\"}\n            bodyId={\"responses\"}\n          >\n            {this.state.responses}\n          </MobileWrapper>\n        )}\n      </>\n    );\n  }\n}\n\nexport default TalkingToRats;\n","export default __webpack_public_path__ + \"static/media/arrow-500.e1656b94.png\";","import React from \"react\";\nimport MobileWrapper from \"./MobileWrapper\";\nimport arrow from \"../img/arrow-500.png\";\n\nconst roseSuffix = '-rose.png'\nconst roseSadSuffix = '-sad.png'\n\n\nclass RoseCeremony extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // How many roses you have to give out\n    this.numRoses = this.props.numRoses;\n\n    this.activeRats = [];\n    this.backRowRats = [];\n    this.frontRowRats = [];\n    this.roundNum = props.roundNum;\n\n    this.state = {\n      selectedRats: [],\n      deselectedRats: [],\n      giveRosesButton: \"\",\n      instructions: `Choose ${this.props.numRoses} to continue`,\n      middleRowClass: \"\",\n      allRatsSelectedClass: \"notAllRatsSelected\",\n      lastRoseClass: \"\",\n      currentlyViewedRat: [null, null],\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.numRoses === 1) {\n      this.setState({\n        instructions: `Choose your soulmate`,\n        lastRoseClass: \"lastRose\",\n      });\n    }\n    // Randomly shuffle the rats for this round\n    this.ratNames = this.props.activeRatNames.sort(function (a, b) {\n      return 0.5 - Math.random();\n    });\n\n    let backRowNames = [];\n    let frontRowNames = [];\n\n    let backRowSize = 0;\n    let frontRowSize = 0;\n\n    // Get the number of rats per row\n    if (this.ratNames.length === 7) {\n      backRowSize = 4;\n      frontRowSize = 3;\n    } else if (this.ratNames.length === 6) {\n      backRowSize = 3;\n      frontRowSize = 3;\n    } else if (this.ratNames.length === 5) {\n      backRowSize = 3;\n      frontRowSize = 2;\n    } else {\n      backRowSize = this.ratNames.length;\n      this.setState({ middleRowClass: \"middleRow\" });\n    }\n\n    // Find our special sized rats\n    let lepixIndex = this.ratNames.indexOf(\"Le Pix\");\n    let podoIndex = this.ratNames.indexOf(\"Podolico\");\n    let simIndex = this.ratNames.indexOf(\"SimmSammo\");\n\n        // Put lepix first\n        if (lepixIndex !== -1) {\n          if (backRowSize > 0) {\n            backRowNames.push(\"Le Pix\");\n          } else {\n            frontRowNames.push(\"Le Pix\");\n          }\n        }\n    \n        // Put podo next\n        if (podoIndex !== -1) {\n          if (backRowSize > 0) {\n            backRowNames.push(\"Podolico\");\n          } else {\n            frontRowNames.push(\"Podolico\");\n          }\n        }\n        // Put simmsammo next\n        if (simIndex !== -1) {\n          if (backRowSize > 0) {\n            backRowNames.push(\"SimmSammo\");\n          } else {\n            frontRowNames.push(\"SimmSammo\");\n          }\n        }\n    \n        // Put in the rest of the names\n        for (let i = 0; i < this.ratNames.length; i++) {\n          let currName = this.ratNames[i];\n          if (\n            !(\n              currName === \"Le Pix\" ||\n              currName === \"Podolico\"||\n              currName === \"SimmSammo\"\n        )\n      ) {\n        // Fill up the rows according to the number of contestants\n        if (backRowNames.length === backRowSize) {\n          frontRowNames.push(currName);\n        } else {\n          backRowNames.push(currName);\n        }\n      }\n    }\n\n    // Reverse the rows\n    frontRowNames.reverse();\n    backRowNames.reverse();\n\n    // Get all of the round's rats based on their names\n    this.activeRats = this.ratNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    this.frontRowRats = frontRowNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n    this.backRowRats = backRowNames.map((ratName) =>\n      this.props.getRatByName(ratName)\n    );\n  }\n\n  updateInstructions() {\n    this.setState({ allRatsSelectedClass: \"\" });\n    let ratsLeft = this.props.numRoses - this.state.selectedRats.length;\n    if (ratsLeft > 1) {\n      this.setState({ instructions: `Choose ${ratsLeft} more contestants` });\n    } else if (ratsLeft === 1) {\n      this.setState({ instructions: `Choose ${ratsLeft} more contestant` });\n    }\n  }\n\n  selectRatIntermediate(ratName, id) {\n    this.setState({ currentlyViewedRat: [ratName, id] });\n  }\n\n  // When a rat is clicked\n  selectRat(ratName, id) {\n    console.log(ratName, id)\n    // Get the element for the current rat button\n    const element = document.getElementById(id);\n\n    // If it's already chosen, deselect it\n    if (this.state.selectedRats.indexOf(ratName) !== -1) {\n      let newdeSelectedRats = this.state.deselectedRats;\n      newdeSelectedRats.push(ratName);\n      element.classList.add(\"deselectedRat\");\n\n      const index = this.state.selectedRats.indexOf(ratName);\n      const newSelectedRats = this.state.selectedRats;\n      newSelectedRats.splice(index, 1);\n      this.props.playTap();\n      this.setState({ selectedRats: newSelectedRats });\n      element.classList.remove(\"selectedRat\");\n      this.updateInstructions();\n      return;\n    }\n\n    // If you've already selected the max rats, you can't select another\n    if (this.state.selectedRats.length === this.numRoses) {\n      this.props.playBadActionSound();\n      return;\n    }\n\n    // Otherwise, select this rat\n    let newSelectedRats = this.state.selectedRats;\n    newSelectedRats.push(ratName);\n    element.classList.add(\"selectedRat\");\n    this.props.playTap();\n    // check if it was sad and remove that pic if it was sad\n    if (this.state.deselectedRats.indexOf(ratName) !== -1) {\n      const index = this.state.deselectedRats.indexOf(ratName);\n      const newdeSelectedRats = this.state.deselectedRats;\n      newdeSelectedRats.splice(index, 1);\n      this.setState({ deselectedRats: newdeSelectedRats });\n      element.classList.remove(\"deselectedRat\");\n    }\n\n    // If that was the final rat, display the advance button\n    if (this.state.selectedRats.length === this.numRoses) {\n      let giveRosesButton;\n      if (this.numRoses === 1) {\n        this.finalRat = this.props.getRatByName(this.state.selectedRats[0]);\n        giveRosesButton = (\n          <button onClick={this.endRoseCeremony.bind(this)}>\n            Propose to {this.state.selectedRats[0]}\n          </button>\n        );\n      } else {\n        giveRosesButton = (\n          <button onClick={this.endRoseCeremony.bind(this)}>\n            Continue Finding Love\n          </button>\n        );\n      }\n\n      if (!this.props.isOnMobile) {\n        this.setState({ instructions: giveRosesButton });\n      } else {\n        this.setState({ instructions: \"You're done!\" });\n      }\n\n      this.setState({ allRatsSelectedClass: \"allRatsSelected\" });\n    } else {\n      this.updateInstructions();\n    }\n\n    // Force a UI update for the rat list\n    this.setState({});\n  }\n\n  endRoseCeremony() {\n    this.props.setActiveRatsAndAdvanceState(this.state.selectedRats);\n  }\n\n  render() {\n    let backRatsList = [];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.backRowRats.length; i++) {\n      const activeRat = this.backRowRats[i];\n      const baseName = activeRat.filename;\n      let filename = `${process.env.PUBLIC_URL}/img/Characters/${baseName}.png`;\n      let roseFilename = `${process.env.PUBLIC_URL}/img/Characters/${baseName}${roseSuffix}`;\n      let sadFilename = `${process.env.PUBLIC_URL}/img/Characters/${baseName}${roseSadSuffix}`;\n\n      if (activeRat.rose_ceremony_filename && this.roundNum < activeRat.rose_ceremony_filename.length) {\n        const baseFilename = activeRat.rose_ceremony_filename[this.roundNum];\n        filename = `${process.env.PUBLIC_URL}/img/Characters/${baseFilename}.png`;\n        roseFilename = `${process.env.PUBLIC_URL}/img/Characters/${baseFilename}${roseSuffix}`;\n        sadFilename = `${process.env.PUBLIC_URL}/img/Characters/${baseFilename}${roseSadSuffix}`;\n      }\n      backRatsList.push(\n        <div\n          key={i}\n          id={`rat${i}`}\n          className={`ratList`}\n          onClick={() => {\n            if (this.props.isOnMobile) {\n              this.selectRatIntermediate(this.backRowRats[i].name, `rat${i}`);\n            } else {\n              this.selectRat(this.backRowRats[i].name, `rat${i}`);\n            }\n          }}\n        >\n          <div className={`${this.state.allRatsSelectedClass}`}>\n            {/* {`${this.backRowRats[i].name}`} */}\n            <img\n              className={`ratPic  ${this.backRowRats[i].size}`}\n              src={filename}\n              alt=\"a rat waiting for you to make a decision\"\n            />\n            <img\n              className={`ratPic ratWithRosePic  ${this.backRowRats[i].size}`}\n              src={roseFilename}\n              alt=\"a rat waiting for you to make a decision\"\n            />\n            <img\n              className={`ratPic sadRatPic  ${this.backRowRats[i].size}`}\n              src={sadFilename}\n              alt=\"a sad rat\"\n            />\n            {!this.props.isOnMobile && (\n              <div className=\"hoverText\" alt=\"info about the rat\">\n                {this.backRowRats[i].name}\n              </div>\n            )}\n            {(this.props.isOnMobile && \n              this.state.currentlyViewedRat[0] === this.backRowRats[i].name) \n              && (\n              <img \n                className=\"roseCeremonySelectedArrow\"\n                src={arrow} \n                alt={\"arrow pointing at the selected rat\"} />\n            )}\n          </div>\n        </div>\n      );\n    }\n    let frontRatsList = [];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.frontRowRats.length; i++) {\n      const activeRat = this.frontRowRats[i];\n      const baseName = activeRat.filename;\n      let filename = `${process.env.PUBLIC_URL}/img/Characters/${baseName}.png`;\n      let roseFilename = `${process.env.PUBLIC_URL}/img/Characters/${baseName}${roseSuffix}`;\n      let sadFilename = `${process.env.PUBLIC_URL}/img/Characters/${baseName}${roseSadSuffix}`;\n\n      if (activeRat.rose_ceremony_filename && this.roundNum < activeRat.rose_ceremony_filename.length) {\n        const baseFilename = activeRat.rose_ceremony_filename[this.roundNum];\n        filename = `${process.env.PUBLIC_URL}/img/Characters/${baseFilename}.png`;\n        roseFilename = `${process.env.PUBLIC_URL}/img/Characters/${baseFilename}${roseSuffix}`;\n        sadFilename = `${process.env.PUBLIC_URL}/img/Characters/${baseFilename}${roseSadSuffix}`;\n      }\n\n      frontRatsList.push(\n        <div\n          key={i}\n          id={`rat${this.backRowRats.length + i}`}\n          className={`ratList`}\n          onClick={() => {\n            if (this.props.isOnMobile) {\n              this.selectRatIntermediate(\n                this.frontRowRats[i].name,\n                `rat${this.backRowRats.length + i}`\n              );\n            } else {\n              this.selectRat(\n                this.frontRowRats[i].name,\n                `rat${this.backRowRats.length + i}`\n              );\n            }\n          }}\n        >\n          <div className={`${this.state.allRatsSelectedClass}`}>\n            {/* {`${this.frontRowRats[i].name}`} */}\n            <img\n              className={`ratPic ${this.frontRowRats[i].size}`}\n              src={filename}\n              alt=\"a rat waiting for you to make a decision\"\n            />\n            <img\n              className={`ratPic ratWithRosePic ${this.frontRowRats[i].size}`}\n              src={roseFilename}\n              alt=\"a rat waiting for you to make a decision\"\n            />\n            <img\n              className={`ratPic sadRatPic  ${this.frontRowRats[i].size}`}\n              src={sadFilename}\n              alt=\"a sad rat\"\n            />\n            {!this.props.isOnMobile && (\n              <div className=\"hoverText\" alt=\"info about the rat\">\n                {this.frontRowRats[i].name}\n              </div>\n            )}\n            {(this.props.isOnMobile && \n              this.state.currentlyViewedRat[0] === this.frontRowRats[i].name) \n              && (\n              <img \n                className=\"roseCeremonySelectedArrow\"\n                src={arrow} \n                alt={\"arrow pointing at the selected rat\"} />\n            )}\n          </div>\n        </div>\n      );\n    }\n\n    let bouquetNum = this.props.numRoses - this.state.selectedRats.length;\n    if (!bouquetNum || bouquetNum < 0 || bouquetNum > 5) bouquetNum = 0;\n    const lastClickedRat = this.props.getRatByName(\n      this.state.currentlyViewedRat[0]\n    );\n\n    const mobileButton = (\n      <button\n        className={\n          this.state.selectedRats.length !== this.numRoses ? \"unselect\" : \"\"\n        }\n        onClick={this.endRoseCeremony.bind(this)}\n      >\n        {this.numRoses === 1 ? \"Propose\" : \"Continue finding love\"}\n      </button>\n    );\n\n    return (\n      <>\n        <div\n          id=\"roseCeremonyScreen\"\n          className={`screen ${this.state.lastRoseClass}`}\n        >\n          <img\n            id=\"bouquet\"\n            alt=\"a rose bouquet\"\n            src={`${process.env.PUBLIC_URL}/img/Bouquet/bouquet${bouquetNum}.png`}\n          ></img>\n          {!this.props.isOnMobile && (\n            <div id=\"instructions\">{this.state.instructions}</div>\n          )}\n          <div id=\"ratListContainer\">\n            <div id=\"backRow\" className={`${this.state.middleRowClass}`}>\n              {backRatsList}\n            </div>\n            <div id=\"frontRow\">{frontRatsList}</div>\n          </div>\n        </div>\n        {this.props.isOnMobile &&\n          (lastClickedRat === null || lastClickedRat === undefined ? (\n            <MobileWrapper\n              controlsStyled={true}\n              header={this.state.instructions}\n              cta={mobileButton}\n            >\n              <h2>Select a rat to get started</h2>\n            </MobileWrapper>\n          ) : (\n            <MobileWrapper\n              controlsStyled={true}\n              header={this.state.instructions}\n              cta={mobileButton}\n            >\n              <img className=\"roseCeremonyWidePortrait\" src={`${process.env.PUBLIC_URL}/img/Wide/${lastClickedRat.filename}.png`}/>\n              <h2>{this.state.currentlyViewedRat[0]}</h2>\n              <button\n                onClick={() => {\n                  this.selectRat(...this.state.currentlyViewedRat);\n                }}\n                className={\n                  this.state.selectedRats.length === this.numRoses &&\n                  !this.state.selectedRats.includes(\n                    this.state.currentlyViewedRat[0]\n                  )\n                    ? \"unselect\"\n                    : \"\"\n                }\n              >\n                {this.state.selectedRats.includes(\n                  this.state.currentlyViewedRat[0]\n                )\n                  ? \"Deselect\"\n                  : \"Select\"}\n              </button>\n            </MobileWrapper>\n          ))}\n      </>\n    );\n  }\n}\n\nexport default RoseCeremony;\n","import React from \"react\";\nimport MobileWrapper from \"./MobileWrapper\";\n\nclass AnimeEnding extends React.Component {\n  render() {\n    return (\n      <>\n        <div id=\"animeEndingScreen\" className=\"screen\">\n          <img\n            id=\"animePic\"\n            src={`${process.env.PUBLIC_URL}/img/Anime/${this.props.winningRat.filename}.jpg`}\n            alt=\"your chosen rat looking adoringly at you\"\n          ></img>\n          {!this.props.isOnMobile && (\n            <div id=\"animeText\">\n              {\n                this.props.winningRat.dialogue[\n                  this.props.winningRat.dialogue.length - 1\n                ]\n              }\n            </div>\n          )}\n          {!this.props.isOnMobile && (\n            <button id=\"epilogueButton\" onClick={this.props.epilogue}>\n              Epilogue\n            </button>\n          )}\n        </div>\n        {this.props.isOnMobile && (\n          <MobileWrapper\n            controlsStyled={true}\n            bodyId={\"anime-ending\"}\n            cta={\n              <button id=\"epilogueButton\" onClick={this.props.epilogue}>\n                Epilogue\n              </button>\n            }\n          >\n            <p>\n              {\n                this.props.winningRat.dialogue[\n                  this.props.winningRat.dialogue.length - 1\n                ]\n              }\n            </p>\n          </MobileWrapper>\n        )}\n      </>\n    );\n  }\n}\n\nexport default AnimeEnding;\n","import React from \"react\";\nimport photosRats from \"../photosRats.json\";\nimport ratsJson from \"../rats.json\";\nimport MobileWrapper from \"./MobileWrapper\";\n\nclass SpecialEnding extends React.Component {\n  constructor(props) {\n    super(props);\n    this.text = [];\n    this.offLimitRats = [props.finalRat];\n    this.beginningRatPool = props.beginningRatPool;\n    this.photos = [];\n    for (let i = 0; i < this.beginningRatPool.length; i++) {\n      var f = this.getRatEndingFilename(this.beginningRatPool[i]);\n      if (f !== undefined) {\n        this.photos[this.photos.length] = f[0];\n        this.text[this.text.length] = f[1];\n      }\n    }\n    this.state = {\n      opacity: 1,\n      selectedRat: -1,\n      selectedRats: [],\n      selectRatsButton: <div id=\"chooseText\">Others have found love too!</div>,\n    };\n  }\n  // Takes a string rat name and returns the Json object with additional details\n  getRatByName(name) {\n    for (let i = 0; i < ratsJson.length; i++) {\n      if (ratsJson[i].name === name) {\n        return ratsJson[i].filename;\n      }\n    }\n  }\n  getRatEndingFilename(fullName) {\n    //from beginning pool\n    var name = this.getRatByName(fullName);\n    var retVal;\n    var retText;\n    //var ti = this.text.length\n    var corats = [];\n    var noFileFound = false;\n    for (let i = 0; i < photosRats.length; i++) {\n      if (photosRats[i].rat === name) {\n        var numEndings = photosRats[i].photos.length;\n\n        var idx = Math.floor(Math.random() * numEndings);\n        //var coRat = [this.offLimitRats[0]]\n        // add this rat\n        // just set it to something that will start the while loop\n        var j = 0;\n        var noViableEnding = true;\n        // console.log(this.offLimitRats)\n        while (noViableEnding) {\n          retVal = photosRats[i].photos[idx].filename;\n          retText = photosRats[i].photos[idx].text;\n\n          corats = [];\n          // console.log(retVal)\n          switch (photosRats[i].photos[idx].numRats) {\n            case 3:\n              corats[corats.length] = photosRats[i].photos[idx].Rat1;\n              noViableEnding =\n                this.offLimitRats.indexOf(corats[corats.length - 1]) >= 0;\n              corats[corats.length] = photosRats[i].photos[idx].Rat2;\n              noViableEnding =\n                noViableEnding ||\n                this.offLimitRats.indexOf(corats[corats.length - 1]) >= 0;\n              corats[corats.length] = photosRats[i].photos[idx].Rat3;\n              // console.log(\"case3\");\n              noViableEnding =\n                noViableEnding ||\n                this.offLimitRats.indexOf(corats[corats.length - 1]) >= 0;\n              // console.log(\"noViableEnding: \" + noViableEnding)\n              break;\n            case 2:\n              // console.log(\"case2\")\n              corats[corats.length] = photosRats[i].photos[idx].Rat1;\n              noViableEnding =\n                this.offLimitRats.indexOf(corats[corats.length - 1]) >= 0;\n              corats[corats.length] = photosRats[i].photos[idx].Rat2;\n              noViableEnding =\n                noViableEnding ||\n                this.offLimitRats.indexOf(corats[corats.length - 1]) >= 0;\n              // console.log(\"noViableEnding: \" + noViableEnding)\n              break;\n\n            case 1:\n              // console.log(\"case1\")\n              corats[corats.length] = photosRats[i].photos[idx].Rat1;\n              noViableEnding =\n                this.offLimitRats.indexOf(corats[corats.length - 1]) >= 0;\n              // console.log(\"noViableEnding: \" + noViableEnding)\n              break;\n            default:\n              //do nothing\n              break;\n          }\n          // break while loop\n          if (j > numEndings) {\n            noViableEnding = false;\n            noFileFound = true;\n            // console.log()\n          }\n          idx = (idx + 1) % numEndings;\n\n          // get the other rat involved\n          j++;\n        }\n      }\n    }\n    if (noFileFound) {\n      return undefined;\n    }\n    for (var i = 0; i < corats.length; i++) {\n      this.offLimitRats[this.offLimitRats.length] = corats[i];\n    }\n\n    return [retVal, retText];\n  }\n  // When a rat is clicked\n  selectRat(id) {\n    // Get the element for the current rat button\n    if (this.selecctedID === id && this.selected === true) {\n      this.deselect();\n      return;\n    }\n\n    if (this.selecctedID !== null) {\n      this.deselect();\n    }\n\n    const element = document.getElementById(id);\n    if (element === null) {\n      return;\n    }\n    element.classList.add(\"selectedRat\");\n    this.selecctedID = id;\n    this.selected = true;\n  }\n\n  deselect() {\n    const element = document.getElementById(this.selecctedID);\n    this.selected = false;\n    if (element === null) {\n      return;\n    }\n    element.classList.remove(\"selectedRat\");\n  }\n  random(seed) {\n    var x = Math.sin(seed++) * 10000;\n    return x - Math.floor(x);\n  }\n  render() {\n    //console.log(this.photos)\n    // console.log(photos)\n    let ratsList = [\n      <img\n        key={\"bgimg\"}\n        id=\"specialBg\"\n        onClick={this.deselect.bind(this)}\n        src={`${process.env.PUBLIC_URL}/img/Photos/background.png`}\n        alt=\"images on a table!\"\n      ></img>,\n    ];\n    const mobileTxt =\n      this.state.selectedRat < 0\n        ? \"Tap on a photo to start.\"\n        : this.text[this.state.selectedRat];\n    // Create a clickable div for every rat in the game\n    for (let i = 0; i < this.photos.length; i++) {\n      if (this.text[i] === undefined) {\n        continue;\n      }\n      ratsList.push(\n        <div key={\"ratslist\" + i} id=\"ratContainer\">\n          <div id={`rat${i}`} className=\"ratListItem\">\n            <div\n              className=\"ratPic\"\n              onClick={() => {\n                if (this.props.isOnMobile) {\n                  this.setState({ selectedRat: i });\n                }\n              }}\n            >\n              <img\n                className={\n                  i === this.state.selectedRat\n                    ? \"ratFrame selected\"\n                    : \"ratFrame\"\n                }\n                style={{\n                  width: \"100%\",\n                  paddingTop: this.props.isOnMobile\n                    ? \"0px\"\n                    : 30 * this.random(i - 991) + \"px\",\n                  paddingRight: this.props.isOnMobile\n                    ? \"0px\"\n                    : 30 * this.random(i + 123) + \"px\",\n                  transform: `rotate(${this.random(i + 22) * 30}deg) ${\n                    !this.props.isOnMobile && \"scale(2.24)\"\n                  }`,\n                }}\n                src={`${process.env.PUBLIC_URL}/img/Photos/${this.photos[i]}`}\n                alt=\"\"\n              />\n            </div>\n            <div className=\"ratNameContainer\">\n              {!this.props.isOnMobile && (\n                <div className=\"ratName\">{`${this.text[i]}`}</div>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n    const buttons = (\n      <div\n        id=\"endingButtonContainer\"\n        key={\"restartbutton\"}\n        style={{ paddingTop: 20 }}\n      >\n        <button\n          id=\"followusButton\"\n          onClick={() => {\n            window.open(\"https://www.instagram.com/alg0rat/?hl=en\");\n          }}\n        >\n          Follow for updates\n        </button>\n        <button\n          id=\"payusButton\"\n          onClick={() => {\n            window.open(\"https://ko-fi.com/alg0rat\");\n          }}\n        >\n          Donate if you enjoyed!\n        </button>\n        <button id=\"restartButton\" onClick={this.props.restartGame}>\n          Replay?\n        </button>\n      </div>\n    );\n    return (\n      <>\n        <div id=\"SpecialEndingScreen\" className=\"screen\">\n          <div className=\"hide-overflow\">\n            <div id=\"ratListContainer\">{ratsList}</div>\n            {this.props.isOnMobile && (\n              <div className=\"special-ending-description\">{mobileTxt}</div>\n            )}\n          </div>\n          {!this.props.isOnMobile && buttons}\n        </div>\n        {this.props.isOnMobile && <MobileWrapper>{buttons}</MobileWrapper>}\n      </>\n    );\n  }\n}\n\nexport default SpecialEnding;\n","export default __webpack_public_path__ + \"static/media/Cheerful.d940b0ce.mp3\";","export default __webpack_public_path__ + \"static/media/Funky.a0bb99de.mp3\";","export default __webpack_public_path__ + \"static/media/Intense.557a862d.mp3\";","export default __webpack_public_path__ + \"static/media/Intro_Screen.0e89e7f0.mp3\";","export default __webpack_public_path__ + \"static/media/Paris.03b97a6d.mp3\";","export default __webpack_public_path__ + \"static/media/Pop.0f90351b.mp3\";","export default __webpack_public_path__ + \"static/media/Romantic_Happy.36d11f79.mp3\";","export default __webpack_public_path__ + \"static/media/Romantic_Sad.5b6aab94.mp3\";","export default __webpack_public_path__ + \"static/media/Rose_Ceremony.32898cb5.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_1.b359ab59.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_2.fcfc13d8.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_3.fbf0c31f.mp3\";","export default __webpack_public_path__ + \"static/media/Talking_To_Rat_4.e49c91ea.mp3\";","import React from \"react\";\n\nimport Cheerful from \"../sounds/Cheerful.mp3\";\nimport Funky from \"../sounds/Funky.mp3\";\nimport Intense from \"../sounds/Intense.mp3\";\nimport IntroScreen from \"../sounds/Intro_Screen.mp3\";\nimport Paris from \"../sounds/Paris.mp3\";\nimport Pop from \"../sounds/Pop.mp3\";\nimport RomanticHappy from \"../sounds/Romantic_Happy.mp3\";\nimport RomanticSad from \"../sounds/Romantic_Sad.mp3\";\nimport RoseCeremony from \"../sounds/Rose_Ceremony.mp3\";\nimport Talking1 from \"../sounds/Talking_To_Rat_1.mp3\";\nimport Talking2 from \"../sounds/Talking_To_Rat_2.mp3\";\nimport Talking3 from \"../sounds/Talking_To_Rat_3.mp3\";\nimport Talking4 from \"../sounds/Talking_To_Rat_4.mp3\";\nimport {\n  RAT_SELECT,\n  PLAYER_SELECT,\n  TALKING_TO_RATS,\n  ROSE_CEREMONY,\n  ANIME_ENDING,\n  PROPOSAL,\n} from \"../App\";\n\nconst TalkingMusic = [Talking1, Talking2, Talking3, Talking4];\nconst Endings = {\n  CHEERFUL: Cheerful,\n  FUNKY: Funky,\n  INTENSE: Intense,\n  PARIS: Paris,\n  POP: Pop,\n  ROMANTICHAPPY: RomanticHappy,\n  ROMANTICSAD: RomanticSad,\n};\n\nclass MusicManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.selectURL = this.selectURL.bind(this);\n    this.url = this.selectURL(this.props.phase);\n    this.playSound = this.playSound.bind(this);\n    this.props.setCallPlaySound(this.playSound);\n    this.volume = props.volume / 100 - 0.08;\n    this.volume = this.volume < 0 ? 0 : this.volume;\n    this.finalRat = null;\n    this.currentRatIdx = -1;\n    this.musicStarted = false;\n  }\n\n  shouldComponentUpdate(props) {\n    if (this.props.phase < 1 && !this.musicStarted) {\n      return false;\n    }\n\n    let needToRender = false;\n    let newurl = this.selectURL(props.phase);\n\n    if (newurl !== this.url) {\n      this.url = newurl;\n      needToRender = true;\n    }\n\n    let newvolume = props.volume / 100 - 0.08;\n    newvolume = newvolume < 0 ? 0 : newvolume;\n\n    if (this.volume !== newvolume) {\n      this.volume = newvolume;\n      this.setVolume(this.volume);\n    }\n    if (this.finalRat !== props.finalRat) {\n      this.finalRat = props.finalRat;\n      needToRender = true;\n    }\n    if (this.currentRatIdx !== props.currentRatIdx) {\n      this.currentRatIdx = props.currentRatIdx;\n      needToRender = true;\n    }\n\n    if (!this.musicStarted || needToRender) {\n      this.playSound(this.phase);\n    }\n\n    return false;\n  }\n\n  setVolume(vol) {\n    if (this.rap) {\n      this.rap.volume = vol;\n    }\n  }\n\n  playSound() {\n    if (\n      !this.musicStarted ||\n      (this.url !== \"\" && this.rap && this.rap.src.indexOf(this.url) < 0)\n    ) {\n      this.rap.src = this.url;\n      this.rap.volume = this.volume;\n      this.rap.addEventListener(\"canplaythrough\", () => {\n        var playPromise = this.rap.play();\n        this.musicStarted = true;\n        if (playPromise !== undefined) {\n          playPromise\n            .then((_) => {})\n            .catch((e) => {\n              console.log(\"error caught\", e);\n            });\n        }\n      });\n    }\n  }\n\n  selectURL(phase) {\n    let url = IntroScreen;\n    switch (phase) {\n      case RAT_SELECT:\n        url = IntroScreen;\n        break;\n      case PLAYER_SELECT:\n        url = IntroScreen;\n        break;\n      case TALKING_TO_RATS:\n        url = TalkingMusic[this.currentRatIdx % TalkingMusic.length];\n        break;\n      case ROSE_CEREMONY:\n        url = RoseCeremony;\n        break;\n      case ANIME_ENDING:\n        url = Endings[this.finalRat.ending];\n        break;\n      case PROPOSAL:\n        url = Endings[this.props.finalRat.ending];\n        break;\n      default:\n        url = IntroScreen;\n    }\n    return url;\n  }\n\n  render() {\n    this.url = this.selectURL(this.props.phase);\n    return (\n      <audio\n        src={this.url}\n        ref={(element) => {\n          this.rap = element;\n        }}\n        loop\n        volume={this.props.phase < 2 ? 0 : this.volume}\n      />\n    );\n  }\n}\n\nexport default MusicManager;\n","export default __webpack_public_path__ + \"static/media/rose3.691f932e.wav\";","export default __webpack_public_path__ + \"static/media/bad_action_sfx.63f0b124.wav\";","export default __webpack_public_path__ + \"static/media/curtains.575f420c.mp3\";","export default __webpack_public_path__ + \"static/media/louder_tap.0bf104bc.mp3\";","export default __webpack_public_path__ + \"static/media/crickets.542a8a4c.mp3\";","export default __webpack_public_path__ + \"static/media/harp.e67d31d9.mp3\";","export default __webpack_public_path__ + \"static/media/trombone.112cbc7a.mp3\";","export default __webpack_public_path__ + \"static/media/chaching.ec7b7df0.mp3\";","export default __webpack_public_path__ + \"static/media/ding.8dd6449b.mp3\";","export default __webpack_public_path__ + \"static/media/metal.2ffd589f.mp3\";","export default __webpack_public_path__ + \"static/media/tada.be0721f5.mp3\";","export default __webpack_public_path__ + \"static/media/chimes.054a590c.mp3\";","export default __webpack_public_path__ + \"static/media/wobble.a5e13a72.mp3\";","import React from \"react\";\n\nimport assignRose from \"../sounds/rose3.wav\";\nimport badAction from \"../sounds/bad_action_sfx.wav\";\nimport newRound from \"../sounds/curtains.mp3\";\nimport selectAnswer from \"../sounds/louder_tap.mp3\";\nimport tap from \"../sounds/louder_tap.mp3\";\nimport crickets from \"../sounds/crickets.mp3\";\nimport harp from \"../sounds/harp.mp3\";\nimport trombone from \"../sounds/trombone.mp3\";\nimport chaching from \"../sounds/chaching.mp3\";\nimport ding from \"../sounds/ding.mp3\";\nimport metal from \"../sounds/metal.mp3\";\nimport tada from \"../sounds/tada.mp3\";\nimport chimes from \"../sounds/chimes.mp3\";\nimport wobble from \"../sounds/wobble.mp3\";\n\nclass SoundEffectController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.playSound = this.playSound.bind(this);\n    this.playRoseSound = this.playRoseSound.bind(this);\n    this.playBadActionSound = this.playBadActionSound.bind(this);\n    this.playNewRoundSound = this.playNewRoundSound.bind(this);\n    this.playSelectAnswer = this.playSelectAnswer.bind(this);\n    this.playCricketsSound = this.playCricketsSound.bind(this);\n    this.playHarpSound = this.playHarpSound.bind(this);\n    this.playTromboneSound = this.playTromboneSound.bind(this);\n    this.playTap = this.playTap.bind(this);\n    this.playChachingSound = this.playChachingSound.bind(this);\n    this.playDingSound = this.playDingSound.bind(this);\n    this.playMetalSound = this.playMetalSound.bind(this);\n    this.playTadaSound = this.playTadaSound.bind(this);\n    this.playChimesSound = this.playChimesSound.bind(this);\n    this.playWobbleSound = this.playWobbleSound.bind(this);\n\n    this.props.setPlayRoseSound(this.playRoseSound);\n    this.props.setPlayBadActionSound(this.playBadActionSound);\n    this.props.setPlayTap(this.playTap);\n    this.props.setPlayCricketsSound(this.playCricketsSound);\n    this.props.setPlayHarpSound(this.playHarpSound);\n    this.props.setPlayTromboneSound(this.playTromboneSound);\n    this.props.setPlaySelectAnswer(this.playSelectAnswer);\n    this.props.setPlayNewRoundSound(this.playNewRoundSound);\n    this.props.setPlayChachingSound(this.playChachingSound);\n    this.props.setPlayDingSound(this.playDingSound);\n    this.props.setPlayMetalSound(this.playMetalSound);\n    this.props.setPlayTadaSound(this.playTadaSound);\n    this.props.setPlayChimesSound(this.playChimesSound);\n    this.props.setPlayWobbleSound(this.playWobbleSound);\n\n    this.volume = props.volume / 100 + 0.15;\n    this.finalRat = null;\n    this.currentRatIdx = -1;\n    this.musicStarted = false;\n  }\n\n  shouldComponentUpdate(props) {\n    if (props.volume === 0) {\n      this.volume = 0;\n      this.setVolume(this.volume);\n      return false;\n    }\n\n    let newvolume = props.volume / 100 + 0.15;\n    newvolume = newvolume > 1 ? 1 : newvolume;\n\n    if (newvolume !== this.volume) {\n      this.volume = newvolume;\n      this.setVolume(this.volume);\n    }\n\n    return false;\n  }\n\n  playWobbleSound() {\n    this.playSound(wobble);\n  }\n\n  playChimesSound() {\n    this.playSound(chimes);\n  }\n\n  playTadaSound() {\n    this.playSound(tada);\n  }\n\n  playMetalSound() {\n    this.playSound(metal);\n  }\n\n  playDingSound() {\n    this.playSound(ding);\n  }\n\n  playChachingSound() {\n    this.playSound(chaching);\n  }\n\n  playCricketsSound() {\n    this.playSound(crickets);\n  }\n\n  playTromboneSound() {\n    this.playSound(trombone);\n  }\n\n  playHarpSound() {\n    this.playSound(harp);\n  }\n\n  playRoseSound() {\n    this.playSound(assignRose);\n  }\n\n  playBadActionSound() {\n    this.playSound(badAction);\n  }\n\n  playNewRoundSound() {\n    this.playSound(newRound);\n  }\n\n  playSelectAnswer() {\n    this.playSound(selectAnswer);\n  }\n\n  playTap() {\n    this.playSound(tap);\n  }\n\n  setVolume(vol) {\n    if (this.rap && this.rap.volume !== vol) {\n      this.rap.volume = vol;\n    }\n  }\n\n  playSound(url) {\n    if (this.rap) {\n      this.rap.src = url;\n      this.rap.volume = this.volume;\n      this.rap.addEventListener(\"canplaythrough\", () => {\n        var playPromise = this.rap.play();\n        if (playPromise !== undefined) {\n          playPromise\n            .then((_) => {})\n            .catch((e) => {\n              console.log(\"error caught\", e);\n            });\n        }\n      });\n    }\n  }\n\n  render() {\n    return (\n      <audio\n        src={this.url}\n        ref={(element) => {\n          this.rap = element;\n        }}\n        volume={this.volume}\n      />\n    );\n  }\n}\n\nexport default SoundEffectController;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAA55JREFUaEPVmj+OU0EMxpNASZeeiiMgUVHRbEnFAfYOVIhyK+6wB6CipKFCQkLsEajo09Ev6yjzmDex/X32zASxUpp982z//NnzL9luJvzdP3t6HzW7/flrG30nMn4XGfw/jx2axYySWvJmqNsFOgoMVcoI8BTopQDrBPTChkFDkJ9fmGLd/fi2ef7+ERLz7HkWmAYdBWiSXX2noTOwFCgN6ShIU5DAUdjHKAAa8sHQ9c0T09ztu9/IVei5xBWBhYqyoNcvX4UCNcFJRYszFtYFpSBP5eqpyWTgCB6EjMCaoBAy0I9sEm6/ftFzIr5AEpCyOdAApBa5Bu5C1kYcYA9WBXXV7IRswQs0DSoGErBnoFHIITOtV5ZeYpX3LFVXoFFISS7bfzJWnWkdyDKTR2doDRauo8dSG1SudVKGrKvGJKWtsYuiGTXRsoHUNvtSKqVZl93EECWMD94dakpw5YOS0j5vwVDS2vdb4Y6KZtVcZszA9g7Osk2rtICRfq171Qd11EQZhj0YmGkpWMNegcWlG62503gJDiVDNZ1tFfDeNNACocIG97R0vzqwO7inJRXd7/eb8rF2P8iUdwKCrWAYFz752IoGSkgA6z8NeFEWqMmWOzuuxDW1dNsEeMEx59msqgI7FVQc1LDsxp1Vix13EdAW1upTVi12XOsnpWgkk8Uhq6Y7W6PZzHkeAtXWxrYPO2LRTzc9Bqt3KVBr8WchP3z6qIcbmNktXra6IKhliIXsEcTynelTCNoGam0KLCBLTVlO1Lsj4oDAqljHZIMqC/slVIxWAKvuDl0T1o4Ph0MoDrM3Q1bGDIaly2ZsTDjzrPigSvmyqnpqMtu9FLJzJoWKyh1qVFUP8u3rNymG7EZidfCO9Kk4tFSV/7OKd9GeXl4JAE5FWFExClStAdHNHkpEZulgksbd6yqWUMCMc9QS6PniA9wXybhFUVi+RK96ajLgs9QU3zFFBfZhf2ruaK4cHNnX3vx9TqvVmDx7j1BTTMS+ZCpOK9jFMbrwIjfw9F1x8Bu1+NeGFewq2YF7WqaM3TGJL4XVWRf262km7g44YyABqZZu7XvIVShZspAZtYb0ofMLUfirFAkgDdwDSYDVyUFVSM26YiQNC6VqBgQBj2VJ/NaXAi3GpsEm4FjAkkaqdFtRpgEH1GdUXJV2wPZq6L+CjQJ2KTp8ZiaynQUcBloMzVC4F25I6Voi9AKPhJsKqiWAgZ8FWOL5A1aWn0lX+mM5AAAAAElFTkSuQmCC\"","export default __webpack_public_path__ + \"static/media/volume_0.f85c5915.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAA0VJREFUaEPtmjGOFEEMRWcRIdmEXINNuAkp1yDmGqTchGS5BuFk5LAljVcet+3/XeVaLStGGq20Xe3y8//lrunu0+n/53VV4G4HzsP393+YuPeffm2Z35u7ZaJHsBGbgkMF2AW/DMqqhwCD43eP4JOn3p42BYoU/HD/ESb38+EHHCMDOlSeBXVtygBmdAh+BbgEGtl0FdCDj6BnYSnQyKoC+PnrO2jDb19+wzE7gVnQg1W1igyohaiCewpX1IWgnl09q87AangGfAU2BWUhkScrRUDAs7Al0K6mg8CrsIyFQ1CrZhekVT+C7oZ1QSuQmTooWQY6i2FtnCkLQZGSyIbVhuPFY2Ez0De2qjv3rgNCvlEDq7pAx8lyPyhase1qt82grLKsqiMnT9mDojp5ZFsEOpKTrze2sr4rSwT+Hq2qKZNX7FZdg6yyqDHdWFeDIjVRhRE8CzDUYcdqWGvf1LrImtnxatNBhavmYt25DVQS61iH1h1RzMyFbaDn8/kkX2YjUFUILQUUrwV0AOqPB8xu9VgLM+O0fVtAo2raArCwK5uJyL5PoLt2RCyshmPU8rpxZl9XUXRpQevBHmdg2TXIjpMcRMAp67IVt+u2UqCZOSS+J1QJ1Ls2WrVYmOoOiY0bjaNAo4t/FbI6noFjlXdB9VYqCrQjafb6W12nI+4TKHPfZZwQbQqY6jMgDASrop6Psq6c0KFiRwwNwBTmRlFGkcvlwgx7kWOgomzFXiSdSioEjR7y/AuqernfgEYNqarqKIb+dqpdbUTClFq3qqrAWbDo/6sF8ASIcj6AzqjKgjDjqoqxxYLNKFM1Szy7+yfJoSWBjlvI7AaZC2pVlQDMxBaQAZaEd6k54r9lpdcqzGzIB7A+jymal1t0Xul2pw2c3eeduafLFHUmLoIc85afeHf/KGfgszHsg2EIOibpevK9CoWazzgeXTVg170GPxQEvRPUDbUCSVlXT/Cc7xlFhZp9/4hVVOZ1rf5c6s5ClhUV2o53AVlrZ0VkbxZMg14b1PgDX12d7dLIJRXIJVBm7XqqReAITGJVAdM1x9rK2WBQKk/GX3p3l7qOVhO7ruEO6CU4nfcW0Kgw5POdNriqQK9i/F9ScciaJnkOvwAAAABJRU5ErkJggg==\"","import React from \"react\";\nimport soundLogoMute from \"../img/icons/volume_mute.png\";\nimport soundLogo0 from \"../img/icons/volume_0.png\";\nimport soundLogo1 from \"../img/icons/volume_1.png\";\nimport soundLogo2 from \"../img/icons/volume_2.png\";\nimport soundLogo3 from \"../img/icons/volume_3.png\";\n\nclass GameOptions extends React.Component {\n  render() {\n\n    const prog = this.props.volume;\n    let soundurl;\n\n    if(this.props.isOnMobile) {\n      if (prog === 0) {\n        soundurl = soundLogoMute;\n      } else {\n        soundurl = soundLogo3;\n      }\n      \n      const toggleSoundMobile = () => {\n        if (this.props.volume === 0) {\n          this.props.changeVolume(22);\n        } else {\n          this.props.changeVolume(0);\n        }\n      };\n      return (\n        <div id=\"game-options-mobile\">\n        <img\n          src={soundurl}\n          alt=\"Sound icon\"\n          className=\"sound-icon\"\n          onClick={toggleSoundMobile}\n        />\n        </div>\n      )\n    }\n\n    if (prog === 0) {\n      soundurl = soundLogoMute;\n    } else if (prog < 25) {\n      soundurl = soundLogo0;\n    } else if (prog < 50) {\n      soundurl = soundLogo1;\n    } else if (prog < 75) {\n      soundurl = soundLogo2;\n    } else {\n      soundurl = soundLogo3;\n    }\n\n    const toggleSound = () => {\n      if (this.props.volume === 0) {\n        this.props.changeVolume(18);\n      } else {\n        this.props.changeVolume(0);\n      }\n    };\n\n    return (\n      <div id=\"game-options\">\n        <img\n          src={soundurl}\n          alt=\"Sound icon\"\n          className=\"sound-icon\"\n          onClick={toggleSound}\n        />\n        <div className=\"sound-slider\">\n          <input\n            min=\"0\"\n            max=\"100\"\n            type=\"range\"\n            value={this.props.volume}\n            onChange={(evt) =>\n              this.props.changeVolume(parseInt(evt.target.value))\n            }\n          />\n          <div\n            className=\"behind-slider\"\n            style={{\n              backgroundImage: `linear-gradient(to right, #fffec6, #fffec6 ${prog}%, #977c40 ${prog}%, #977c40 100%)`,\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GameOptions;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAAtZJREFUaEPtmj1SAzEMhQM1XUquQRpuQss1qLkGLTehCdegTEcPY2bEOIp+nmR5s2TITJqsbel7T/7J7m42/5/LUuBqBs7+9fYLGXf38DElvhS7LBAK5wkwC34YtApQEqASOg1qAd7t7j3jNu/7N7cNNagAToFqkAigRefBjwCHQGcBSvAadBYWBpUgRx1EarcKGAI9F2QvhAQccdcFXQMkAY/AmqBrghyFvUbmCbVZYk56+WRzUB3lbmYDeIlnr/My9uarCLp2SK2MLVi3dNfmZF8BkdxOQGeeXbNlivazcncdRYOcqx13VYM1QSOlcS5QNO7RYhRdhB6fb37ivDx9QvGoPTVG+yGDe6uwCuq5yZPmyUgQUp9ZsHwFnjZHG5QnRhMHaYM4ytvw6pwGSoF7kOYeffvEqmCtKiwD3W63G/pydatAMs5SnxLQBth/JGBvIZohRl++JaCa0lwAD3bEMe+Pxy/orBORBztjrkqCiY56W0tUeQu2cnuR8iIDU6WbmU8cNipWpL1kVAhU2huzAJpYGRERESBQbfOPQmrtZ5dvE0IE7c+NmsJRSET1yLkZHe9kH/VuRVAH7VAQDcyPf9KJKTOm1gcq3R5yNPisSvDyCoEeDgdvvNVed0GXWCiWUEcF1Z55/AVXpdyPQLUFKepqE6P/LuGYFoOYzNKNukpwPKj2+wwBtJxPQDOuoiBouxkCuIuR5aqVOLIvRqeEJ4B1g0wE5a7SAEhiHBAB9gAqrruO8iAarAfE+yGiRQBDtzv5wNZ93ug93UjS0bYeZBsv/MS7+k95FIq3R5+Cu6Bt4DU++W55oZCQo6Tg2mAjkCFQzdn2+5LlnH0dByrdfl4s+VIVMh9bG+S/dBjUKmW6Vumw9docAkg5pUGtUu6dyEJXvxc4BIq4y8tPA/fAaJyIi33sElBkDo/ul1nAktL1kh99zDEKN9VRCx4Br4TzjLjI69+ThGpE2iw0CgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA4CAYAAACsc+sjAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/WmGlFVFDRIODRYNCFERjGORSDWqQ1aLXr8CPy71KSGvQ0iA0RC19Df0HtQatBUFQBBEt/QN9LSG396ighJ3Lue+P55zn5ZzngH0ho2XN9gnI5gpGMOB3r0RW3Y437HThpJ/eqGbqi6H5MP+O7wdsqt77VK//97UcznjC1MDWKTyt6UZBeFZ4YbOgK94VHtTS0bjwsbDXkAMK3yg9VuNXxakafyo2wsE5sKue7lQTx5pYSxtZ4XFhTzZT1OrnUTdxJXLLIanDMkcwCRLAj5sYRTbIUMAnNSeZtfZNVH1L5MWjyV+nhCGOFGnxekUtSteE1KToCfkylFTuf/M0k1OTte4uP3S8WNbHKDj2oFK2rJ8Ty6qcQtszXOUa/rzkNPMlermheY6gbxsurhtabB8ud2DoSY8a0arUJtOeTML7OfREYOAOutdqWdXXOXuE8JY80S0cHMKY7O9b/wWZemfb/es+tQAAAAlwSFlzAAALEgAACxIB0t1+/AAAAvRJREFUaEPtmjFSAzEMRReGki4l1yANN6HlGtRcg5ab0IRrUKajh3FhRlEk63/b2oQMmUmTaG29/yXvrneX5f9zWQpcZeDs3u6+kXG3j58p81tzT5sIhYsEyIIfBp0FaAkwE7obtAV4v32IjFs+du9hTA2YAdwF6kEigC26CH4EmALNArTgPeheWBjUghx1EKndWcAQ6KkgpRAWMONuCHoOkBV4BLYJek6Qo7A3SJ/UmNGefHq5PZru9fmLSWEpOUSrM3VlpN0chSyTW6A1KRZYw0b9apZuBmQE2gPMwIagM5z0atNzmHFXwrZcPQLNcrPViCPAqKvX1EqQFFwctFxs9bS3QHpXb03QzLK1NOuFRfQ/KF22bKviaE9ph7zj0LjWlZPuVxc0cjMqK9SdLFgNmtajRYhIjNYpRwuAjCUd1tWZBlonlQnWRQeFQOOQK7dpoJvNZqlfvTiwbsjj0f6PFqQpoAVQfizgaIFBxUDjSj6yfKeAempqASJYbxzGVW8R/QXN2s2LYCUc41ZUqvp/09Ho1MJO0oJl3GLnleXbVbo9ymvYnqStldwaxzKKArXOjb0AnlgjF/gt8SBQ7+TPQnrx2eVbBDBB5a2PpzALiZZqFnR4ratBRwH3+/0BcxaYviGHSrdmNgpZxpkxBlodMo4C1W70THiqY0LQrNJaG9gF9fZO/4KrVu4HoN4uGutqEUN+13ZPzleZmqXLulrhNJj3e4YAXs5HoD2uoiBoXIYA4WLUcrWVuLeFKSHYlogEaO3xmqDa1ToAkpgGRIAjgBn/h47qSTzYCEgfh4jGAEY79tTzUXn7w+7pMkmzsRFkGY9+4j37ppyF0vHoU/AQtAx8jk++S14oJORoVfDcYBlICtRztvy+Zjn3vo4Dla7sizVfqkL6scREj/VpRxHg2Q63XsxAAGvOtKMobI3rLevozRMGcshRFjgCj8Dq8SzgFEetc2DWjn8vYBpor9OWaKNwcsyhHmWvahC3Z8Kx+V1E/A/Ns6VpL6rE4gAAAABJRU5ErkJggg==\"","import React from \"react\";\nimport MobileWrapper from \"./MobileWrapper\";\n\nclass CharacterImg extends React.Component {\n  render() {\n    return (\n      <div\n        onClick={this.props.onClick}\n        className={`player-img ${this.props.selected && \"selected-img\"}`}\n      >\n        {this.props.selected && (\n          <img\n            alt=\"\"\n            src={`${process.env.PUBLIC_URL}/img/Frames/hearts7.png`}\n            className=\"selected-bg\"\n          />\n        )}\n        <img src={this.props.src} alt=\"one of the selectable characters\" />\n      </div>\n    );\n  }\n}\n\nclass CharacterSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratSelected: false,\n      transform: 1,\n    };\n\n    if (props.isOnMobile) {\n      this.buttonAreaBefore = (\n        <div id=\"button-container\">\n          <button className=\"unselect\">Onwards!</button>\n        </div>\n      );\n\n      this.buttonAreaAfter = (\n        <div id=\"button-container\">\n          <button\n            onClick={() => {\n              this.props.onClick();\n            }}\n          >\n            Onwards!\n          </button>\n        </div>\n      );\n    } else {\n      this.buttonAreaAfter = (\n        <div id=\"button-container\">\n          <button\n            onClick={() => {\n              this.props.onClick();\n              //this.props.playSelectAnswer();\n            }}\n          >\n            Onwards!\n          </button>\n        </div>\n      );\n\n      this.buttonAreaBefore = (\n        <div id=\"ratchelor-intro-question\">Which rat do you want to be?</div>\n      );\n    }\n  }\n\n  render() {\n    let buttonArea;\n    if (!this.state.ratSelected) {\n      buttonArea = this.buttonAreaBefore;\n    } else {\n      buttonArea = this.buttonAreaAfter;\n    }\n    return (\n      <>\n        <div id=\"custom-character\" className=\"screen\">\n          <div id=\"ratchelor-intro-container\">\n            <img\n              alt=\"\"\n              id=\"hearts-header\"\n              src={`${process.env.PUBLIC_URL}/img/Player/playerselecthearts.png`}\n            ></img>\n            <div id=\"ratchelor-intro-title\">You are The Ratchelor,</div>\n            <div id=\"ratchelor-intro\">\n              A single rat looking for love. You will meet many rats and choose\n              who to keep, round after round, until you find true love.\n            </div>\n          </div>\n          <div id=\"custom-character-row\">\n            {Array(4)\n              .fill(\"\")\n              .map((_, idx) => (\n                <CharacterImg\n                  selected={idx + 1 === this.props.playerIdx}\n                  onClick={() => {\n                    this.props.changePlayerIdx(idx + 1);\n                    this.setState({ ratSelected: true });\n                    this.props.playTap();\n                  }}\n                  key={`char${idx}`}\n                  src={`${process.env.PUBLIC_URL}/img/Player/${\n                    idx + 1\n                  }_intro.png`}\n                />\n              ))}\n          </div>\n          {!this.props.isOnMobile && buttonArea}\n        </div>\n        {this.props.isOnMobile && (\n          <MobileWrapper\n            controlsStyled={true}\n            row={true}\n            header={\n              this.props.playerIdx < 0\n                ? \"Which rat do you want to be?\"\n                : \"You have selected...\"\n            }\n            cta={buttonArea}\n          >\n            <img\n              src={`${process.env.PUBLIC_URL}/img/rose.png`}\n              style={{ float: \"left\", width: \"20%\", marginRight: \"12px\" }}\n            />\n            {this.props.playerIdx < 0\n              ? \"Select one from the left panel to get started.\"\n              : \"Wonderful! Press Onwards if you're ready to continue.\"}\n          </MobileWrapper>\n        )}\n      </>\n    );\n  }\n}\n\nexport default CharacterSelect;\n","import React from \"react\";\nimport MobileWrapper from \"./MobileWrapper\";\n\nconst FADE_DELAY = 3600;\n\nclass Proposal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      opacity: 1.0,\n    };\n  }\n\n  componentDidMount() {\n    window.setTimeout(() => {\n      this.opacityInterval = window.setInterval(() => {\n        if (this.state.opacity <= 0) {\n          this.props.advanceState();\n          window.clearInterval(this.opacityInterval);\n        } else {\n          let opacity = this.state.opacity - 0.01;\n          this.setState({ opacity });\n        }\n      }, 10);\n    }, FADE_DELAY);\n  }\n\n  render() {\n    return (\n      <>\n        <div\n          id=\"proposalScreen\"\n          style={{ opacity: this.state.opacity }}\n          className=\"screen\"\n        >\n          <img\n            id=\"finalRat\"\n            alt=\"the rat that you're proposing to\"\n            className={`propose-${this.props.finalRat.size}`}\n            src={`${process.env.PUBLIC_URL}/img/Characters/${this.props.finalRat.filename}.png`}\n          ></img>\n          <img\n            id=\"proposingRat\"\n            alt=\"you are on one knee proposing\"\n            src={this.props.playerRatUrl}\n          ></img>\n        </div>\n        {this.props.isOnMobile && (\n          <MobileWrapper controlsStyled={true}>\n            <p>*proposes : 3*</p>\n          </MobileWrapper>\n        )}\n      </>\n    );\n  }\n}\n\nexport default Proposal;\n","import \"./App.css\";\nimport React from \"react\";\nimport IntroScreen from \"./components/IntroScreen\";\nimport RatSelect from \"./components/RatSelect\";\nimport TalkingToRats from \"./components/TalkingToRats\";\nimport RoseCeremony from \"./components/RoseCeremony\";\nimport AnimeEnding from \"./components/AnimeEnding\";\nimport SpecialEnding from \"./components/SpecialEnding\";\nimport MusicManager from \"./components/MusicManager\";\nimport SoundEffectController from \"./components/SoundEffectController\";\nimport GameOptions from \"./components/GameOptions\";\nimport CharacterSelect from \"./components/CharacterSelect\";\nimport Proposal from \"./components/Proposal\";\n\nimport ratsJson from \"./rats.json\";\nimport firebase from \"firebase/app\";\nimport \"firebase/analytics\";\nimport \"firebase/database\";\nimport allPublicImagesForPreload from \"./allPublicImages.json\";\n\n/* background img files for preload -- sry for the tech debt but its 1am */\nimport bg0 from \"./img/Backgrounds/beach.png\";\nimport bg1 from \"./img/Backgrounds/couch.gif\";\nimport bg2 from \"./img/Backgrounds/curtains.png\";\nimport bg3 from \"./img/Backgrounds/garden.png\";\nimport bg4 from \"./img/Backgrounds/intro.gif\";\n//import bg7 from \"./img/Backgrounds/rose_ceremony.png\";\nimport bg5 from \"./img/Backgrounds/wallpaper.png\";\n\n/* sound files for preload -- sry for the tech debt but its 1am */\nimport s1 from \"./sounds/bad_action_sfx.wav\";\nimport s2 from \"./sounds/curtains.mp3\";\nimport s3 from \"./sounds/louder_tap.mp3\";\nimport s5 from \"./sounds/crickets.mp3\";\nimport s6 from \"./sounds/harp.mp3\";\nimport s7 from \"./sounds/trombone.mp3\";\nimport s8 from \"./sounds/Cheerful.mp3\";\nimport s9 from \"./sounds/Funky.mp3\";\nimport s10 from \"./sounds/Intense.mp3\";\nimport s11 from \"./sounds/Intro_Screen.mp3\";\nimport s12 from \"./sounds/Paris.mp3\";\nimport s13 from \"./sounds/Pop.mp3\";\nimport s14 from \"./sounds/Romantic_Happy.mp3\";\nimport s15 from \"./sounds/Romantic_Sad.mp3\";\nimport s16 from \"./sounds/Rose_Ceremony.mp3\";\nimport s17 from \"./sounds/Talking_To_Rat_1.mp3\";\nimport s18 from \"./sounds/Talking_To_Rat_2.mp3\";\nimport s19 from \"./sounds/Talking_To_Rat_3.mp3\";\nimport s20 from \"./sounds/Talking_To_Rat_4.mp3\";\nimport s21 from \"./sounds/chimes.mp3\";\nimport s22 from \"./sounds/tada.mp3\";\nimport s23 from \"./sounds/wobble.mp3\";\nimport s24 from \"./sounds/chaching.mp3\";\nimport s25 from \"./sounds/metal.mp3\";\n\nconst backgroundSrc = [bg0, bg1, bg2, bg3, bg4, bg5];\nconst soundsToPreload = [s2, s3, s5, s6, s7, s11, s1, s21, s22, s23, s24, s25];\nconst soundsToAsyncLoad = [\n  s17,\n  s18,\n  s19,\n  s20,\n  s16,\n  s8,\n  s9,\n  s10,\n  s12,\n  s13,\n  s14,\n  s15,\n];\n\nvar firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_URL,\n  databaseURL: process.env.REACT_APP_DB_URL,\n  projectId: process.env.REACT_APP_PROJECTID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APPID,\n  measurementId: process.env.REACT_APP_MEASUREID,\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();\n\n// Game Stages\nconst INTRO = 0;\nconst PLAYER_SELECT = 1;\nconst RAT_SELECT = 2;\nconst TALKING_TO_RATS = 3;\nconst ROSE_CEREMONY = 4;\nconst ANIME_ENDING = 5;\nconst SPECIAL_ENDING = 6;\nconst PROPOSAL = 7;\n\nconst ANIM_TIME = 400;\n\nclass RatchelorGame extends React.Component {\n  constructor() {\n    super();\n    // Num rats the person should select at the very beginning\n    this.numRatsInGame = 7;\n    // How many rounds there are\n    this.numRounds = 5;\n    this.setProposedInDatabase = false;\n    // How many roses get given out each round\n    this.rosesPerRound = [5, 4, 3, 2, 1];\n\n    this.allPublicImagesForPreload = allPublicImagesForPreload;\n    this.backgroundSrc = backgroundSrc;\n    this.soundsToPreload = soundsToPreload;\n    this.soundsToAsyncLoad = soundsToAsyncLoad;\n\n    this.state = {\n      // What phase of the game we're in\n      gameStage: INTRO,\n      // What round of the rose-talking loop we're on\n      roundNum: 0,\n      //beginning rat pool for the special end\n      beginningRatPool: [],\n      // String list of all rat names currently still in the game\n      activeRatNames: [],\n      // Text for interlude screens that fall down\n      interludeText: \"Round 1\",\n      //the rat that we r currently talking to\n      currentRatIdx: 0,\n      volume: 10,\n      playerIdx: -1,\n      isPreloading: true,\n      percentLoaded: 0.0,\n      isShowingSafariMsg: false,\n      isOnMobile: false,\n      curtainsClass: \"curtainsOff\",\n    };\n    this.finalRat = ratsJson[3];\n    this.changeCurrentRatIdx = this.changeCurrentRatIdx.bind(this);\n    this.changeVolume = this.changeVolume.bind(this);\n    this.changePlayerIdx = this.changePlayerIdx.bind(this);\n    this.setCallPlaySound = this.setCallPlaySound.bind(this);\n    this.setPlayRoseSound = this.setPlayRoseSound.bind(this);\n    this.setPlayCricketsSound = this.setPlayCricketsSound.bind(this);\n    this.setPlayHarpSound = this.setPlayHarpSound.bind(this);\n    this.setPlayTromboneSound = this.setPlayTromboneSound.bind(this);\n    this.setPlayBadActionSound = this.setPlayBadActionSound.bind(this);\n    this.setPlayNewRoundSound = this.setPlayNewRoundSound.bind(this);\n    this.setPlaySelectAnswer = this.setPlaySelectAnswer.bind(this);\n    this.setPlayChachingSound = this.setPlayChachingSound.bind(this);\n    this.setPlayDingSound = this.setPlayDingSound.bind(this);\n    this.setPlayMetalSound = this.setPlayMetalSound.bind(this);\n    this.setPlayTadaSound = this.setPlayTadaSound.bind(this);\n    this.setPlayChimesSound = this.setPlayChimesSound.bind(this);\n    this.setPlayWobbleSound = this.setPlayWobbleSound.bind(this);\n    this.recalculateDimensions = this.recalculateDimensions.bind(this);\n\n    this.setPlayTap = this.setPlayTap.bind(this);\n    this.donePreloading = this.donePreloading.bind(this);\n\n    this.publicImgsLoaded = false;\n    this.srcImgsLoaded = false;\n    this.soundsLoaded = false;\n  }\n\n  recalculateDimensions(onMobile = this.state.isOnMobile) {\n    if (!onMobile) {\n      return;\n    }\n    \n    if (window.innerHeight > window.innerWidth) {\n      this.setState({\n        mobileAndPortrait: true,\n      });\n      return;\n    }\n    this.setState({\n      mobileAndPortrait: false,\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.recalculateDimensions);\n  }\n\n  donePreloading() {\n    if (this.preloadTimeout) {\n      window.clearTimeout(this.preloadTimeout);\n    }\n    if (this.preloadInterval) {\n      window.clearInterval(this.preloadInterval);\n    }\n    this.setState({ isPreloading: false });\n    this.asyncLoadSounds();\n  }\n\n  preload() {\n    // let loadIncr = 1 / (this.allPublicImagesForPreload.length + this.backgroundSrc.length + this.soundsToPreload.length);\n    // 30s total timeout\n    const timeoutTime = 30000;\n    const intervalTime = 100;\n    const loadFracPerInterval = intervalTime / timeoutTime;\n\n    this.preloadInterval = window.setInterval(() => {\n      this.setState({\n        percentLoaded: this.state.percentLoaded + loadFracPerInterval,\n      });\n    }, intervalTime);\n\n    this.preloadTimeout = window.setTimeout(() => {\n      console.log(\"preloading timed out! continuing..\");\n      this.setState({ isPreloading: false });\n    }, timeoutTime);\n\n    // PUBLIC IMAGES\n    this.allPublicImagesForPreload.forEach((fullFilename) => {\n      var img = new Image();\n      let filename = \"\";\n      if (fullFilename.indexOf(\"public\") !== -1) {\n        filename = fullFilename.slice(7);\n        filename = process.env.PUBLIC_URL + \"/\" + filename;\n      }\n      // Load image\n      img.src = filename;\n      img.onload = () => {\n        let fileIdx = this.allPublicImagesForPreload.indexOf(fullFilename);\n        if (fileIdx !== -1) {\n          this.allPublicImagesForPreload.splice(fileIdx, 1);\n        }\n        if (\n          this.allPublicImagesForPreload.length === 0 &&\n          !this.state.publicImgsLoaded\n        ) {\n          console.log(\"all images loaded\");\n          this.publicImgsLoaded = true;\n          if (\n            this.srcImgsLoaded &&\n            this.soundsLoaded &&\n            this.publicImgsLoaded\n          ) {\n            this.donePreloading();\n          }\n        }\n      };\n    });\n\n    // PRELOADED SOUNDS\n    this.soundsToPreload.forEach((filename) => {\n      // Load sound\n      var audio = new Audio(filename);\n\n      audio.addEventListener(\"canplaythrough\", () => {\n        let fileIdx = this.soundsToPreload.indexOf(filename);\n        if (fileIdx !== -1) {\n          this.soundsToPreload.splice(fileIdx, 1);\n        }\n        if (this.soundsToPreload.length === 0) {\n          console.log(\"all sounds loaded\");\n          this.soundsLoaded = true;\n          if (\n            this.srcImgsLoaded &&\n            this.soundsLoaded &&\n            this.publicImgsLoaded\n          ) {\n            this.donePreloading();\n          }\n        }\n      });\n      audio.load();\n    });\n\n    // SRC BACKGROUNDS\n    backgroundSrc.forEach((filename) => {\n      var img = new Image();\n      img.src = filename;\n\n      img.onload = () => {\n        let fileIdx = this.backgroundSrc.indexOf(filename);\n        if (fileIdx !== -1) {\n          this.backgroundSrc.splice(fileIdx, 1);\n        }\n        if (this.backgroundSrc.length === 0) {\n          console.log(\"all src images loaded\");\n          this.srcImgsLoaded = true;\n          if (\n            this.srcImgsLoaded &&\n            this.soundsLoaded &&\n            this.publicImgsLoaded\n          ) {\n            this.donePreloading();\n          }\n        }\n      };\n    });\n  }\n\n  asyncLoadSounds() {\n    this.soundsToAsyncLoad.forEach((fullFilename) => {\n      new Audio(fullFilename);\n    });\n  }\n\n  beginInterludeAndAdvanceState(text, delay, newGameStage) {\n    this.setState({ interludeText: text, curtainsClass: \"curtainsIn\" }, () => {\n      window.setTimeout(() => {\n        this.setState({ gameStage: newGameStage }, () => {\n          window.setTimeout(() => {\n            this.endInterlude();\n          }, delay);\n        });\n      }, ANIM_TIME);\n    });\n  }\n\n  endInterlude() {\n    this.setState({ curtainsClass: \"curtainsOut\" });\n  }\n\n  setCallPlaySound(f) {\n    this.callPlaySound = f;\n  }\n\n  setPlayRoseSound(f) {\n    this.playRoseSound = f;\n  }\n\n  setPlayChachingSound(f) {\n    this.playChachingSound = f;\n  }\n\n  setPlayDingSound(f) {\n    this.playDingSound = f;\n  }\n\n  setPlayMetalSound(f) {\n    this.playMetalSound = f;\n  }\n\n  setPlayTadaSound(f) {\n    this.playTadaSound = f;\n  }\n\n  setPlayChimesSound(f) {\n    this.playChimesSound = f;\n  }\n\n  setPlayWobbleSound(f) {\n    this.playWobbleSound = f;\n  }\n\n  setPlayCricketsSound(f) {\n    this.playCricketsSound = f;\n  }\n\n  setPlayTromboneSound(f) {\n    this.playTromboneSound = f;\n  }\n\n  setPlayHarpSound(f) {\n    this.playHarpSound = f;\n  }\n\n  setPlayBadActionSound(f) {\n    this.playBadActionSound = f;\n  }\n\n  setPlayNewRoundSound(f) {\n    this.playNewRoundSound = f;\n  }\n\n  setPlaySelectAnswer(f) {\n    this.playSelectAnswer = f;\n  }\n\n  setPlayTap(f) {\n    this.playTap = f;\n  }\n\n  // Reset everything to restart the game\n  restartGame() {\n    console.log(\"restarting\");\n    this.setProposedInDatabase = false;\n    this.setState(\n      {\n        gameStage: INTRO,\n        roundNum: 0,\n        activeRatNames: [],\n        playerIdx: -1,\n      },\n      () => {\n        console.log(\"done!\");\n      }\n    );\n  }\n\n  changeCurrentRatIdx(idx) {\n    this.setState({\n      currentRatIdx: idx,\n    });\n  }\n\n  changePlayerIdx(idx) {\n    this.setState({\n      playerIdx: idx,\n    });\n  }\n\n  changeVolume(vol) {\n    this.setState({\n      volume: vol,\n    });\n  }\n\n  // Takes a string rat name and returns the Json object with additional details\n  getRatByName(name) {\n    for (let i = 0; i < ratsJson.length; i++) {\n      if (ratsJson[i].name === name) {\n        return ratsJson[i];\n      }\n    }\n  }\n\n  incrementTotalRatCount(ratName) {\n    this.database\n      .ref(\"/ratchelor2\")\n      .child(ratName)\n      .set(firebase.database.ServerValue.increment(1));\n  }\n\n  componentDidMount() {\n    this.preload();\n    this.interludeElement = document.getElementById(\"interlude\");\n    var isSafari =\n      /constructor/i.test(window.HTMLElement) ||\n      (function (p) {\n        return p.toString() === \"[object SafariRemoteNotification]\";\n      })(\n        !window[\"safari\"] ||\n          (typeof safari !== \"undefined\" && window[\"safari\"].pushNotification)\n      );\n    this.setState({ isShowingSafariMsg: isSafari });\n    var isOnMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n    this.setState({ isOnMobile: isOnMobile });\n    if (isOnMobile) {\n      document.getElementById(\"not-on-mobile\").style.display = \"none\";\n      const kofiWidget = document.querySelector(\"[id*='kofi-widget']\");\n      if (kofiWidget) {\n        kofiWidget.style.display = \"none\";\n      }\n      this.recalculateDimensions(true);\n    }\n    this.database = firebase.database();\n    this.randoRat = ratsJson[Math.floor(Math.random() * ratsJson.length)];\n    window.addEventListener(\"resize\", () => this.recalculateDimensions());\n  }\n\n  render() {\n    let screen = \"\";\n    let isPreloading = this.state.isPreloading;\n\n    if (this.state.gameStage === INTRO) {\n      // Intro screen: advances to next stage when complete\n      screen = (\n        <IntroScreen\n          playSound={() => {\n            if (this.callPlaySound) {\n              this.callPlaySound(this.state.gameStage + 1);\n            }\n            if (this.playNewRoundSound) {\n              this.playNewRoundSound();\n            }\n          }}\n          isPreloading={isPreloading}\n          percentLoaded={this.state.percentLoaded}\n          isOnMobile={this.state.isOnMobile}\n          onClick={() => {\n            this.beginInterludeAndAdvanceState(\n              \"meet yourself\",\n              900,\n              PLAYER_SELECT\n            );\n          }}\n        />\n      );\n    } else if (this.state.gameStage === PLAYER_SELECT) {\n      screen = (\n        <CharacterSelect\n          changePlayerIdx={this.changePlayerIdx}\n          playerIdx={this.state.playerIdx}\n          playSelectAnswer={this.playSelectAnswer}\n          playTap={this.playTap}\n          isOnMobile={this.state.isOnMobile}\n          onClick={() => {\n            this.beginInterludeAndAdvanceState(\n              \"meet your suitors\",\n              900,\n              RAT_SELECT\n            );\n            if (this.playNewRoundSound) {\n              this.playNewRoundSound();\n            }\n          }}\n        />\n      );\n    } else if (this.state.gameStage === RAT_SELECT) {\n      // Rat select screen:\n      //    modifies the currently active rat names\n      //    advances to the next stage when complete\n      screen = (\n        <RatSelect\n          rats={ratsJson}\n          numRatsInGame={this.numRatsInGame}\n          playTap={this.playTap}\n          playSelectAnswer={this.playSelectAnswer}\n          playBadActionSound={this.playBadActionSound}\n          isOnMobile={this.state.isOnMobile}\n          setActiveRatsAndAdvanceState={(selectedRats) => {\n            this.setState(\n              { activeRatNames: selectedRats, beginningRatPool: selectedRats },\n              () => {\n                this.beginInterludeAndAdvanceState(\n                  `chit chat`,\n                  900,\n                  TALKING_TO_RATS\n                );\n                if (this.playNewRoundSound) {\n                  this.playNewRoundSound();\n                }\n              }\n            );\n          }}\n        />\n      );\n    } else if (this.state.gameStage === TALKING_TO_RATS) {\n      // Talking to rats screen:\n      //    advances to the rose ceremony when done\n      screen = (\n        <TalkingToRats\n          activeRatNames={this.state.activeRatNames}\n          getRatByName={this.getRatByName}\n          round={this.state.roundNum}\n          startDelay={1000}\n          isOnMobile={this.state.isOnMobile}\n          roundNum={this.state.roundNum}\n          playSelectAnswer={this.playSelectAnswer}\n          playCricketsSound={this.playCricketsSound}\n          playTromboneSound={this.playTromboneSound}\n          playHarpSound={this.playHarpSound}\n          playChachingSound={this.playChachingSound}\n          playDingSound={this.playDingSound}\n          playMetalSound={this.playMetalSound}\n          playTadaSound={this.playTadaSound}\n          playChimesSound={this.playChimesSound}\n          playWobbleSound={this.playWobbleSound}\n          playerRatUrl={`${process.env.PUBLIC_URL}/img/Player/${this.state.playerIdx}.png`}\n          goToRoseCeremony={() => {\n            this.beginInterludeAndAdvanceState(\n              `who gets a rose?`,\n              900,\n              ROSE_CEREMONY\n            );\n            if (this.playNewRoundSound) {\n              this.playNewRoundSound();\n            }\n          }}\n          changeCurrentRatIdx={this.changeCurrentRatIdx}\n        />\n      );\n    } else if (this.state.gameStage === ROSE_CEREMONY) {\n      // Rose ceremony screen:\n      //    either advances to the next talking round, or advances to the anime ending\n      //    modifies the currently active rat names\n      screen = (\n        <RoseCeremony\n          activeRatNames={this.state.activeRatNames}\n          getRatByName={this.getRatByName}\n          playRoseSound={this.playRoseSound}\n          playTap={this.playTap}\n          roundNum={this.state.roundNum}\n          playSelectAnswer={this.playSelectAnswer}\n          playBadActionSound={this.playBadActionSound}\n          isOnMobile={this.state.isOnMobile}\n          numRoses={this.rosesPerRound[this.state.roundNum]}\n          setActiveRatsAndAdvanceState={(selectedRats) => {\n            this.setState({ activeRatNames: selectedRats }, () => {\n              // Update the current round number\n              const newRoundNum = this.state.roundNum + 1;\n              // If that was the last round, advance to Anime\n              if (newRoundNum === this.numRounds) {\n                this.setState({ gameStage: PROPOSAL });\n                // Else, keep talking to rats\n              } else {\n                this.setState({ roundNum: newRoundNum }, () => {\n                  this.beginInterludeAndAdvanceState(\n                    `chit chat`,\n                    900,\n                    TALKING_TO_RATS\n                  );\n                  if (this.playNewRoundSound) {\n                    this.playNewRoundSound();\n                  }\n                });\n              }\n            });\n          }}\n        />\n      );\n    } else if (this.state.gameStage === PROPOSAL) {\n      this.finalRat = this.getRatByName(this.state.activeRatNames[0]);\n      if (!this.setProposedInDatabase) {\n        this.setProposedInDatabase = true;\n        this.incrementTotalRatCount(this.state.activeRatNames[0]);\n      }\n      screen = (\n        <Proposal\n          finalRat={this.finalRat}\n          isOnMobile={this.state.isOnMobile}\n          playerRatUrl={`${process.env.PUBLIC_URL}/img/Player/${this.state.playerIdx}_proposal.png`}\n          advanceState={() => {\n            this.setState({ gameStage: ANIME_ENDING });\n          }}\n        />\n      );\n    } else if (this.state.gameStage === ANIME_ENDING) {\n      // Anime ending screen:\n      //    allows game to be restarted\n      screen = (\n        <AnimeEnding\n          isOnMobile={this.state.isOnMobile}\n          winningRat={this.finalRat}\n          epilogue={() => {\n            this.beginInterludeAndAdvanceState(\n              `where are they now?`,\n              900,\n              SPECIAL_ENDING\n            );\n            if (this.playNewRoundSound) {\n              this.playNewRoundSound();\n            }\n          }}\n        />\n      );\n    } else if (this.state.gameStage === SPECIAL_ENDING) {\n      // special ending screen:\n      //    allows game to be restarted\n\n      screen = (\n        <SpecialEnding\n          finalRat={this.getRatByName(this.state.activeRatNames[0]).filename}\n          isOnMobile={this.state.isOnMobile}\n          restartGame={() => {\n            this.restartGame();\n          }}\n          getRatByName={(n) => {\n            this.getRatByName(n);\n          }}\n          beginningRatPool={this.state.beginningRatPool}\n        />\n      );\n    }\n\n    let safariMsg = this.state.isShowingSafariMsg ? (\n      <div id=\"safari-container\">\n        <div id=\"safari-msg\">\n          This game has some issues in Safari, we recommend using Chrome or\n          Firefox!\n        </div>\n        <div\n          id=\"safari-button\"\n          onClick={() => {\n            this.setState({ isShowingSafariMsg: false });\n          }}\n        >\n          x\n        </div>\n      </div>\n    ) : (\n      \"\"\n    );\n    return (\n      <div\n        className={`game-container-container ${\n          this.state.isOnMobile ? \"mobile\" : \"\"\n        }`}\n        style={{ display: this.state.isOnMobile ? \"block\" : \"flex\" }}\n      >\n        {this.state.mobileAndPortrait && (\n          <div className=\"portrait-warning\">\n            Alas! Looks like you're in portrait mode. Rotate your phone to\n            landscape to continue playing!\n            <br />\n            <br />\n            <span>(＃￣0￣)</span>\n          </div>\n        )}\n        <div id={`game-container`} className={`preloading-${isPreloading}`}>\n          <div id=\"game\">\n            {!this.state.isOnMobile && (\n              <img\n                id=\"frame\"\n                src={`${process.env.PUBLIC_URL}/img/frameSmaller.png`}\n                alt=\"\"\n              ></img>\n            )}\n            {safariMsg}\n\n            <div id=\"interludeContainer\">\n              {/* <div id=\"interlude\" style={{ bottom: this.state.interludeBottom }}> */}\n              {this.state.isOnMobile && (\n                <div className=\"black-background screen\"></div>\n              )}\n              <div className=\"hide-overflow screen\">\n                <div id=\"interlude\" className={`${this.state.curtainsClass}`}>\n                  <div id=\"interludeText\">{this.state.interludeText}</div>\n                </div>\n              </div>\n              {screen}\n            </div>\n\n            <MusicManager\n              setCallPlaySound={this.setCallPlaySound}\n              phase={this.state.gameStage}\n              finalRat={this.finalRat}\n              currentRatIdx={this.state.currentRatIdx}\n              volume={this.state.volume}\n            />\n            <SoundEffectController\n              volume={this.state.volume}\n              setPlayRoseSound={this.setPlayRoseSound}\n              setPlayCricketsSound={this.setPlayCricketsSound}\n              setPlayBadActionSound={this.setPlayBadActionSound}\n              setPlayNewRoundSound={this.setPlayNewRoundSound}\n              setPlaySelectAnswer={this.setPlaySelectAnswer}\n              setPlayHarpSound={this.setPlayHarpSound}\n              setPlayTromboneSound={this.setPlayTromboneSound}\n              setPlayTap={this.setPlayTap}\n              setPlayChachingSound={this.setPlayChachingSound}\n              setPlayDingSound={this.setPlayDingSound}\n              setPlayMetalSound={this.setPlayMetalSound}\n              setPlayTadaSound={this.setPlayTadaSound}\n              setPlayChimesSound={this.setPlayChimesSound}\n              setPlayWobbleSound={this.setPlayWobbleSound}\n            />\n          </div>\n          <GameOptions\n            volume={this.state.volume}\n            changeVolume={this.changeVolume}\n            isOnMobile={this.state.isOnMobile}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport {\n  INTRO,\n  PLAYER_SELECT,\n  RAT_SELECT,\n  TALKING_TO_RATS,\n  ROSE_CEREMONY,\n  ANIME_ENDING,\n  SPECIAL_ENDING,\n  PROPOSAL,\n};\nexport default RatchelorGame;\n","export default __webpack_public_path__ + \"static/media/beach.a0edbf00.png\";","export default __webpack_public_path__ + \"static/media/couch.94b64acb.gif\";","export default __webpack_public_path__ + \"static/media/curtains.c66fafa0.png\";","export default __webpack_public_path__ + \"static/media/garden.1a22e2c2.png\";","export default __webpack_public_path__ + \"static/media/intro.c5d4d995.gif\";","export default __webpack_public_path__ + \"static/media/wallpaper.64b31ac6.png\";","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./mobile.css\";\nimport App from \"./App\";\n\nconst resizeHandler = () => {\n  let vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n};\nwindow.addEventListener(\"resize\", resizeHandler);\n\nresizeHandler();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}